<template>
  <div class="">
    <section class="user-profile-bg" :style="'background: url(' + userData.bg_image+') no-repeat center'">
      <div class="container">
        <div class="user-profile-bg__wrapper">
          <div class="user-profile-bg__top">
            <el-upload class="avatar-uploader mb-25" action="" :show-file-list="false" :on-success="handleBgSuccess">
              <p class="user-profile-bg__change"><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 8C18.7348 8 18.4804 8.10536 18.2929 8.29289C18.1054 8.48043 18 8.73478 18 9V16C18 16.2652 17.8946 16.5196 17.7071 16.7071C17.5196 16.8946 17.2652 17 17 17H3C2.73478 17 2.48043 16.8946 2.29289 16.7071C2.10536 16.5196 2 16.2652 2 16V8C2 7.73478 2.10536 7.48043 2.29289 7.29289C2.48043 7.10536 2.73478 7 3 7H5C5.21807 7.01138 5.43386 6.95107 5.61443 6.82829C5.795 6.7055 5.93042 6.52698 6 6.32L6.54 4.68C6.60709 4.48138 6.7349 4.30887 6.90537 4.18684C7.07584 4.06482 7.28036 3.99946 7.49 4H13C13.2652 4 13.5196 3.89464 13.7071 3.70711C13.8946 3.51957 14 3.26522 14 3C14 2.73478 13.8946 2.48043 13.7071 2.29289C13.5196 2.10536 13.2652 2 13 2H7.44C6.81155 2.00118 6.19933 2.19968 5.68977 2.56751C5.1802 2.93533 4.79901 3.45389 4.6 4.05L4.28 5.05H3C2.20435 5.05 1.44129 5.36607 0.87868 5.92868C0.31607 6.49129 0 7.25435 0 8.05V16.05C0 16.8456 0.31607 17.6087 0.87868 18.1713C1.44129 18.7339 2.20435 19.05 3 19.05H17C17.7956 19.05 18.5587 18.7339 19.1213 18.1713C19.6839 17.6087 20 16.8456 20 16.05V9.05C20.0068 8.91453 19.9859 8.7791 19.9387 8.65194C19.8915 8.52479 19.8189 8.40856 19.7254 8.31034C19.6318 8.21212 19.5193 8.13396 19.3946 8.08061C19.2699 8.02726 19.1356 7.99983 19 8ZM10 7C9.20887 7 8.43552 7.2346 7.77772 7.67412C7.11992 8.11365 6.60723 8.73836 6.30448 9.46927C6.00173 10.2002 5.92252 11.0044 6.07686 11.7804C6.2312 12.5563 6.61216 13.269 7.17157 13.8284C7.73098 14.3878 8.44372 14.7688 9.21964 14.9231C9.99556 15.0775 10.7998 14.9983 11.5307 14.6955C12.2616 14.3928 12.8864 13.8801 13.3259 13.2223C13.7654 12.5645 14 11.7911 14 11C14 9.93913 13.5786 8.92172 12.8284 8.17157C12.0783 7.42143 11.0609 7 10 7ZM10 13C9.60444 13 9.21776 12.8827 8.88886 12.6629C8.55996 12.4432 8.30362 12.1308 8.15224 11.7654C8.00087 11.3999 7.96126 10.9978 8.03843 10.6098C8.1156 10.2219 8.30608 9.86549 8.58579 9.58579C8.86549 9.30608 9.22186 9.1156 9.60982 9.03843C9.99778 8.96126 10.3999 9.00087 10.7654 9.15224C11.1308 9.30362 11.4432 9.55996 11.6629 9.88886C11.8827 10.2178 12 10.6044 12 11C12 11.5304 11.7893 12.0391 11.4142 12.4142C11.0391 12.7893 10.5304 13 10 13ZM21 2H20V1C20 0.734784 19.8946 0.48043 19.7071 0.292893C19.5196 0.105357 19.2652 0 19 0C18.7348 0 18.4804 0.105357 18.2929 0.292893C18.1054 0.48043 18 0.734784 18 1V2H17C16.7348 2 16.4804 2.10536 16.2929 2.29289C16.1054 2.48043 16 2.73478 16 3C16 3.26522 16.1054 3.51957 16.2929 3.70711C16.4804 3.89464 16.7348 4 17 4H18V5C18 5.26522 18.1054 5.51957 18.2929 5.70711C18.4804 5.89464 18.7348 6 19 6C19.2652 6 19.5196 5.89464 19.7071 5.70711C19.8946 5.51957 20 5.26522 20 5V4H21C21.2652 4 21.5196 3.89464 21.7071 3.70711C21.8946 3.51957 22 3.26522 22 3C22 2.73478 21.8946 2.48043 21.7071 2.29289C21.5196 2.10536 21.2652 2 21 2Z" fill="white"/>
              </svg>
                <span>
                  编辑封面图片
                </span>

              </p>
            </el-upload>


          </div>
          <div v-if="!this.$auth.user.is_streamer" class="user-profile-bg__bottom">
            <p class="btn btn-l-blue">找出联络人</p>
            <p class="btn btn-l-blue">写一条消息</p>
          </div>
        </div>

      </div>
    </section>
    <section class="user-profile-content">
      <div class="container">
        <div class="user-profile-wrapper">
          <div class="user-profile-right">
            <div v-if="!this.$auth.user.is_streamer" class="user-profile-menu side-menu">

              <div class="user-profile-menu__item" @click="tabActive='infoTab'" :class="{'profileMenuActive':tabActive==='infoTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.71 12.7099C16.6904 11.9385 17.406 10.8808 17.7572 9.68382C18.1085 8.48684 18.0779 7.21015 17.6698 6.03135C17.2617 4.85255 16.4963 3.83027 15.4801 3.10674C14.4639 2.3832 13.2474 1.99438 12 1.99438C10.7525 1.99438 9.53611 2.3832 8.51993 3.10674C7.50374 3.83027 6.73834 4.85255 6.33021 6.03135C5.92208 7.21015 5.89151 8.48684 6.24276 9.68382C6.59401 10.8808 7.3096 11.9385 8.29 12.7099C6.61007 13.3829 5.14428 14.4992 4.04889 15.9398C2.95349 17.3804 2.26956 19.0912 2.07 20.8899C2.05555 21.0212 2.06711 21.1541 2.10402 21.2809C2.14093 21.4078 2.20246 21.5261 2.28511 21.6292C2.45202 21.8374 2.69478 21.9707 2.96 21.9999C3.22521 22.0291 3.49116 21.9517 3.69932 21.7848C3.90749 21.6179 4.04082 21.3751 4.07 21.1099C4.28958 19.1551 5.22168 17.3497 6.68822 16.0387C8.15475 14.7277 10.0529 14.0029 12.02 14.0029C13.9871 14.0029 15.8852 14.7277 17.3518 16.0387C18.8183 17.3497 19.7504 19.1551 19.97 21.1099C19.9972 21.3556 20.1144 21.5825 20.2991 21.7469C20.4838 21.9113 20.7228 22.0014 20.97 21.9999H21.08C21.3421 21.9697 21.5817 21.8372 21.7466 21.6311C21.9114 21.4251 21.9881 21.1622 21.96 20.8999C21.7595 19.0961 21.0719 17.3809 19.9708 15.9381C18.8698 14.4953 17.3969 13.3794 15.71 12.7099ZM12 11.9999C11.2089 11.9999 10.4355 11.7653 9.77772 11.3258C9.11992 10.8862 8.60723 10.2615 8.30448 9.53061C8.00173 8.79971 7.92251 7.99544 8.07686 7.21952C8.2312 6.4436 8.61216 5.73086 9.17157 5.17145C9.73098 4.61204 10.4437 4.23108 11.2196 4.07674C11.9956 3.9224 12.7998 4.00161 13.5307 4.30436C14.2616 4.60711 14.8863 5.1198 15.3259 5.7776C15.7654 6.4354 16 7.20876 16 7.99988C16 9.06075 15.5786 10.0782 14.8284 10.8283C14.0783 11.5785 13.0609 11.9999 12 11.9999Z" />
                </svg>
                <p>我的简历</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='statsTab'" :class="{'profileMenuActive':tabActive==='statsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7 16C7.39782 16 7.77936 15.842 8.06066 15.5607C8.34196 15.2794 8.5 14.8978 8.5 14.5C8.50488 14.4501 8.50488 14.3999 8.5 14.35L11.29 11.56H11.52H11.75L13.36 13.17C13.36 13.17 13.36 13.22 13.36 13.25C13.36 13.6478 13.518 14.0294 13.7993 14.3107C14.0806 14.592 14.4622 14.75 14.86 14.75C15.2578 14.75 15.6394 14.592 15.9207 14.3107C16.202 14.0294 16.36 13.6478 16.36 13.25V13.17L20 9.5C20.2967 9.5 20.5867 9.41203 20.8334 9.2472C21.08 9.08238 21.2723 8.84811 21.3858 8.57403C21.4993 8.29994 21.5291 7.99834 21.4712 7.70736C21.4133 7.41639 21.2704 7.14912 21.0607 6.93934C20.8509 6.72956 20.5836 6.5867 20.2926 6.52882C20.0017 6.47094 19.7001 6.50065 19.426 6.61418C19.1519 6.72771 18.9176 6.91997 18.7528 7.16664C18.588 7.41332 18.5 7.70333 18.5 8C18.4951 8.04988 18.4951 8.10012 18.5 8.15L14.89 11.76H14.73L13 10C13 9.60218 12.842 9.22064 12.5607 8.93934C12.2794 8.65804 11.8978 8.5 11.5 8.5C11.1022 8.5 10.7206 8.65804 10.4393 8.93934C10.158 9.22064 10 9.60218 10 10L7 13C6.60218 13 6.22064 13.158 5.93934 13.4393C5.65804 13.7206 5.5 14.1022 5.5 14.5C5.5 14.8978 5.65804 15.2794 5.93934 15.5607C6.22064 15.842 6.60218 16 7 16ZM20.5 20H3.5V3C3.5 2.73478 3.39464 2.48043 3.20711 2.29289C3.01957 2.10536 2.76522 2 2.5 2C2.23478 2 1.98043 2.10536 1.79289 2.29289C1.60536 2.48043 1.5 2.73478 1.5 3V21C1.5 21.2652 1.60536 21.5196 1.79289 21.7071C1.98043 21.8946 2.23478 22 2.5 22H20.5C20.7652 22 21.0196 21.8946 21.2071 21.7071C21.3946 21.5196 21.5 21.2652 21.5 21C21.5 20.7348 21.3946 20.4804 21.2071 20.2929C21.0196 20.1054 20.7652 20 20.5 20Z" />
                </svg>

                <p>我的评分</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='balanceTab'" :class="{'profileMenuActive':tabActive==='balanceTab'}">
                <svg width="24" height="24" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13 0H3L0 3.5L8 13L16 3.5L13 0ZM4.64 3H1.75L3.27 1.22L4.64 3ZM6.42 3L8 1.16L9.58 3H6.42ZM10 4L8 10.68L6 4H10ZM5.26 4L7.15 10.44L1.73 4H5.26ZM10.75 4H14.28L8.85 10.44L10.75 4ZM11.37 3L12.74 1.22L14.25 3H11.35H11.37ZM12 1L10.56 2.81L9.1 1H12ZM5.43 2.83L4 1H6.9L5.43 2.83Z" />
                </svg>


                <p>我的余额</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='friendsTab'" :class="{'profileMenuActive':tabActive==='friendsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.3 12.22C12.8336 11.7581 13.2616 11.1869 13.5549 10.545C13.8482 9.90316 14 9.20571 14 8.5C14 7.17392 13.4732 5.90215 12.5355 4.96447C11.5979 4.02678 10.3261 3.5 9 3.5C7.67392 3.5 6.40215 4.02678 5.46447 4.96447C4.52678 5.90215 4 7.17392 4 8.5C3.99999 9.20571 4.1518 9.90316 4.44513 10.545C4.73845 11.1869 5.16642 11.7581 5.7 12.22C4.30014 12.8539 3.11247 13.8775 2.27898 15.1685C1.4455 16.4596 1.00147 17.9633 1 19.5C1 19.7652 1.10536 20.0196 1.29289 20.2071C1.48043 20.3946 1.73478 20.5 2 20.5C2.26522 20.5 2.51957 20.3946 2.70711 20.2071C2.89464 20.0196 3 19.7652 3 19.5C3 17.9087 3.63214 16.3826 4.75736 15.2574C5.88258 14.1321 7.4087 13.5 9 13.5C10.5913 13.5 12.1174 14.1321 13.2426 15.2574C14.3679 16.3826 15 17.9087 15 19.5C15 19.7652 15.1054 20.0196 15.2929 20.2071C15.4804 20.3946 15.7348 20.5 16 20.5C16.2652 20.5 16.5196 20.3946 16.7071 20.2071C16.8946 20.0196 17 19.7652 17 19.5C16.9985 17.9633 16.5545 16.4596 15.721 15.1685C14.8875 13.8775 13.6999 12.8539 12.3 12.22ZM9 11.5C8.40666 11.5 7.82664 11.3241 7.33329 10.9944C6.83994 10.6648 6.45542 10.1962 6.22836 9.64805C6.0013 9.09987 5.94189 8.49667 6.05764 7.91473C6.1734 7.33279 6.45912 6.79824 6.87868 6.37868C7.29824 5.95912 7.83279 5.6734 8.41473 5.55764C8.99667 5.44189 9.59987 5.5013 10.1481 5.72836C10.6962 5.95542 11.1648 6.33994 11.4944 6.83329C11.8241 7.32664 12 7.90666 12 8.5C12 9.29565 11.6839 10.0587 11.1213 10.6213C10.5587 11.1839 9.79565 11.5 9 11.5ZM18.74 11.82C19.38 11.0993 19.798 10.2091 19.9438 9.25634C20.0896 8.30362 19.9569 7.32907 19.5618 6.45C19.1666 5.57093 18.5258 4.8248 17.7165 4.30142C16.9071 3.77805 15.9638 3.49974 15 3.5C14.7348 3.5 14.4804 3.60536 14.2929 3.79289C14.1054 3.98043 14 4.23478 14 4.5C14 4.76522 14.1054 5.01957 14.2929 5.20711C14.4804 5.39464 14.7348 5.5 15 5.5C15.7956 5.5 16.5587 5.81607 17.1213 6.37868C17.6839 6.94129 18 7.70435 18 8.5C17.9986 9.02524 17.8593 9.5409 17.5961 9.99542C17.3328 10.4499 16.9549 10.8274 16.5 11.09C16.3517 11.1755 16.2279 11.2977 16.1404 11.4447C16.0528 11.5918 16.0045 11.7589 16 11.93C15.9958 12.0998 16.0349 12.2678 16.1137 12.4183C16.1924 12.5687 16.3081 12.6967 16.45 12.79L16.84 13.05L16.97 13.12C18.1754 13.6917 19.1923 14.596 19.901 15.7263C20.6096 16.8566 20.9805 18.1659 20.97 19.5C20.97 19.7652 21.0754 20.0196 21.2629 20.2071C21.4504 20.3946 21.7048 20.5 21.97 20.5C22.2352 20.5 22.4896 20.3946 22.6771 20.2071C22.8646 20.0196 22.97 19.7652 22.97 19.5C22.9782 17.9654 22.5938 16.4543 21.8535 15.1101C21.1131 13.7659 20.0413 12.6333 18.74 11.82Z" />
                </svg>
                <p>我的朋友名单</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='chatsTab'" :class="{'profileMenuActive':tabActive==='chatsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 9C11.8022 9 11.6089 9.05865 11.4444 9.16853C11.28 9.27841 11.1518 9.43459 11.0761 9.61732C11.0004 9.80004 10.9806 10.0011 11.0192 10.1951C11.0578 10.3891 11.153 10.5673 11.2929 10.7071C11.4327 10.847 11.6109 10.9422 11.8049 10.9808C11.9989 11.0194 12.2 10.9996 12.3827 10.9239C12.5654 10.8482 12.7216 10.72 12.8315 10.5556C12.9414 10.3911 13 10.1978 13 10C13 9.73478 12.8946 9.48043 12.7071 9.29289C12.5196 9.10536 12.2652 9 12 9ZM19 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V15C2 15.7956 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H16.59L20.29 21.71C20.3834 21.8027 20.4943 21.876 20.6161 21.9258C20.7379 21.9755 20.8684 22.0008 21 22C21.1312 22.0034 21.2613 21.976 21.38 21.92C21.5626 21.845 21.7189 21.7176 21.8293 21.5539C21.9396 21.3901 21.999 21.1974 22 21V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7956 2 19 2ZM20 18.59L17.71 16.29C17.6166 16.1973 17.5057 16.124 17.3839 16.0742C17.2621 16.0245 17.1316 15.9992 17 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V18.59ZM8 9C7.80222 9 7.60888 9.05865 7.44443 9.16853C7.27998 9.27841 7.15181 9.43459 7.07612 9.61732C7.00043 9.80004 6.98063 10.0011 7.01921 10.1951C7.0578 10.3891 7.15304 10.5673 7.29289 10.7071C7.43275 10.847 7.61093 10.9422 7.80491 10.9808C7.99889 11.0194 8.19996 10.9996 8.38268 10.9239C8.56541 10.8482 8.72159 10.72 8.83147 10.5556C8.94135 10.3911 9 10.1978 9 10C9 9.73478 8.89464 9.48043 8.70711 9.29289C8.51957 9.10536 8.26522 9 8 9ZM16 9C15.8022 9 15.6089 9.05865 15.4444 9.16853C15.28 9.27841 15.1518 9.43459 15.0761 9.61732C15.0004 9.80004 14.9806 10.0011 15.0192 10.1951C15.0578 10.3891 15.153 10.5673 15.2929 10.7071C15.4327 10.847 15.6109 10.9422 15.8049 10.9808C15.9989 11.0194 16.2 10.9996 16.3827 10.9239C16.5654 10.8482 16.7216 10.72 16.8315 10.5556C16.9414 10.3911 17 10.1978 17 10C17 9.73478 16.8946 9.48043 16.7071 9.29289C16.5196 9.10536 16.2652 9 16 9Z" />
                </svg>
                <p>聊天室</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='settingsTab'" :class="{'profileMenuActive':tabActive==='settingsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21.71 15.5799L17.19 11.0699C17.2846 10.6093 17.3315 10.1401 17.33 9.66988C17.3296 8.38054 17.0042 7.11208 16.3839 5.98177C15.7636 4.85145 14.8683 3.89576 13.7809 3.20303C12.6934 2.51029 11.4489 2.10287 10.1623 2.01842C8.87572 1.93398 7.58862 2.17523 6.41995 2.71988C6.27189 2.78752 6.14258 2.89028 6.04324 3.01924C5.94391 3.1482 5.87756 3.29946 5.84995 3.45988C5.82246 3.61827 5.83355 3.78095 5.88229 3.93414C5.93103 4.08733 6.01599 4.22651 6.12995 4.33988L10.48 8.67988L8.67995 10.4799L4.33995 6.12988C4.22562 6.01769 4.08601 5.9346 3.93287 5.88761C3.77972 5.84062 3.61754 5.83112 3.45995 5.85988C3.30053 5.88648 3.14994 5.95132 3.02106 6.04885C2.89218 6.14638 2.78886 6.27369 2.71995 6.41988C2.17348 7.59239 1.93243 8.88406 2.01924 10.1747C2.10606 11.4654 2.5179 12.7132 3.21647 13.802C3.91503 14.8907 4.87762 15.7851 6.0147 16.4019C7.15177 17.0188 8.42638 17.338 9.71995 17.3299C10.1902 17.3314 10.6593 17.2845 11.12 17.1899L15.63 21.7099C15.7229 21.8036 15.8335 21.878 15.9554 21.9288C16.0772 21.9795 16.2079 22.0057 16.34 22.0057C16.472 22.0057 16.6027 21.9795 16.7245 21.9288C16.8464 21.878 16.957 21.8036 17.05 21.7099C17.1437 21.6169 17.2181 21.5063 17.2688 21.3845C17.3196 21.2626 17.3458 21.1319 17.3458 20.9999C17.3458 20.8679 17.3196 20.7372 17.2688 20.6153C17.2181 20.4934 17.1437 20.3828 17.05 20.2899L12.15 15.3899C12.0275 15.2682 11.8757 15.1804 11.7092 15.1348C11.5427 15.0893 11.3673 15.0876 11.2 15.1299C10.7171 15.2592 10.2198 15.3264 9.71995 15.3299C8.972 15.3365 8.23014 15.195 7.53709 14.9137C6.84405 14.6323 6.21353 14.2166 5.68184 13.6905C5.15016 13.1644 4.72783 12.5383 4.43917 11.8482C4.15052 11.1582 4.00124 10.4179 3.99995 9.66988C3.99866 9.3349 4.02542 9.0004 4.07995 8.66988L7.99995 12.5999C8.09292 12.6936 8.20352 12.768 8.32538 12.8188C8.44724 12.8695 8.57794 12.8957 8.70995 12.8957C8.84197 12.8957 8.97267 12.8695 9.09453 12.8188C9.21639 12.768 9.32699 12.6936 9.41995 12.5999L12.6 9.38988C12.7802 9.20342 12.8809 8.95422 12.8809 8.69488C12.8809 8.43554 12.7802 8.18635 12.6 7.99988L8.70995 4.07988C9.04054 4.0259 9.37499 3.99914 9.70995 3.99988C11.212 4.00253 12.6516 4.60108 13.7128 5.66412C14.774 6.72716 15.37 8.16784 15.37 9.66988C15.3665 10.1697 15.2993 10.6671 15.17 11.1499C15.1276 11.3172 15.1293 11.4926 15.1749 11.6591C15.2204 11.8256 15.3083 11.9774 15.43 12.0999L20.33 16.9999C20.5183 17.1882 20.7737 17.294 21.04 17.294C21.3063 17.294 21.5616 17.1882 21.75 16.9999C21.9383 16.8116 22.044 16.5562 22.044 16.2899C22.044 16.0236 21.9383 15.7682 21.75 15.5799H21.71Z" />
                </svg>
                <p>我的设置</p>
              </div>
              <div v-if="!this.$auth.user.is_streamer" class="user-profile-menu__item menu-item-vip" @click="tabActive='vipTab'" :class="{'profileMenuActive':tabActive==='vipTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 12.9999C11.7348 12.9999 11.4804 13.1053 11.2929 13.2928C11.1054 13.4803 11 13.7347 11 13.9999V16.9999C11 17.2651 11.1054 17.5195 11.2929 17.707C11.4804 17.8946 11.7348 17.9999 12 17.9999C12.2652 17.9999 12.5196 17.8946 12.7071 17.707C12.8946 17.5195 13 17.2651 13 16.9999V13.9999C13 13.7347 12.8946 13.4803 12.7071 13.2928C12.5196 13.1053 12.2652 12.9999 12 12.9999ZM17 8.99992H9V6.99992C8.99854 6.40611 9.17334 5.82522 9.50226 5.33082C9.83118 4.83643 10.2994 4.45077 10.8477 4.22268C11.3959 3.99459 11.9996 3.93435 12.5821 4.04957C13.1646 4.16479 13.6999 4.45029 14.12 4.86992C14.4959 5.25399 14.7649 5.72975 14.9 6.24992C14.9328 6.3773 14.9904 6.49697 15.0695 6.60209C15.1486 6.70721 15.2476 6.79573 15.3609 6.86259C15.4742 6.92945 15.5995 6.97334 15.7298 6.99175C15.86 7.01017 15.9926 7.00275 16.12 6.96992C16.2474 6.93709 16.3671 6.87949 16.4722 6.80041C16.5773 6.72133 16.6658 6.62232 16.7327 6.50904C16.7995 6.39575 16.8434 6.2704 16.8618 6.14015C16.8802 6.0099 16.8728 5.8773 16.84 5.74992C16.6122 4.88472 16.1603 4.09486 15.53 3.45992C14.8302 2.76229 13.9393 2.28766 12.97 2.09596C12.0006 1.90427 10.9961 2.00411 10.0835 2.38288C9.17078 2.76164 8.3908 3.40235 7.84201 4.22409C7.29321 5.04584 7.00021 6.01177 7 6.99992V8.99992C6.20435 8.99992 5.44129 9.31599 4.87868 9.8786C4.31607 10.4412 4 11.2043 4 11.9999V18.9999C4 19.7956 4.31607 20.5586 4.87868 21.1212C5.44129 21.6838 6.20435 21.9999 7 21.9999H17C17.7956 21.9999 18.5587 21.6838 19.1213 21.1212C19.6839 20.5586 20 19.7956 20 18.9999V11.9999C20 11.2043 19.6839 10.4412 19.1213 9.8786C18.5587 9.31599 17.7956 8.99992 17 8.99992ZM18 18.9999C18 19.2651 17.8946 19.5195 17.7071 19.707C17.5196 19.8946 17.2652 19.9999 17 19.9999H7C6.73478 19.9999 6.48043 19.8946 6.29289 19.707C6.10536 19.5195 6 19.2651 6 18.9999V11.9999C6 11.7347 6.10536 11.4803 6.29289 11.2928C6.48043 11.1053 6.73478 10.9999 7 10.9999H17C17.2652 10.9999 17.5196 11.1053 17.7071 11.2928C17.8946 11.4803 18 11.7347 18 11.9999V18.9999Z" fill="#F48502"/>
                </svg>
                <p class="is__vip">VIP功能</p>
              </div>
            </div>
            <div v-else class="user-profile-menu">
              <div class="user-profile-menu__item" @click="tabActive='streamerInfoTab'" :class="{'profileMenuActive':tabActive==='streamerInfoTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.71 12.7099C16.6904 11.9385 17.406 10.8808 17.7572 9.68382C18.1085 8.48684 18.0779 7.21015 17.6698 6.03135C17.2617 4.85255 16.4963 3.83027 15.4801 3.10674C14.4639 2.3832 13.2474 1.99438 12 1.99438C10.7525 1.99438 9.53611 2.3832 8.51993 3.10674C7.50374 3.83027 6.73834 4.85255 6.33021 6.03135C5.92208 7.21015 5.89151 8.48684 6.24276 9.68382C6.59401 10.8808 7.3096 11.9385 8.29 12.7099C6.61007 13.3829 5.14428 14.4992 4.04889 15.9398C2.95349 17.3804 2.26956 19.0912 2.07 20.8899C2.05555 21.0212 2.06711 21.1541 2.10402 21.2809C2.14093 21.4078 2.20246 21.5261 2.28511 21.6292C2.45202 21.8374 2.69478 21.9707 2.96 21.9999C3.22521 22.0291 3.49116 21.9517 3.69932 21.7848C3.90749 21.6179 4.04082 21.3751 4.07 21.1099C4.28958 19.1551 5.22168 17.3497 6.68822 16.0387C8.15475 14.7277 10.0529 14.0029 12.02 14.0029C13.9871 14.0029 15.8852 14.7277 17.3518 16.0387C18.8183 17.3497 19.7504 19.1551 19.97 21.1099C19.9972 21.3556 20.1144 21.5825 20.2991 21.7469C20.4838 21.9113 20.7228 22.0014 20.97 21.9999H21.08C21.3421 21.9697 21.5817 21.8372 21.7466 21.6311C21.9114 21.4251 21.9881 21.1622 21.96 20.8999C21.7595 19.0961 21.0719 17.3809 19.9708 15.9381C18.8698 14.4953 17.3969 13.3794 15.71 12.7099ZM12 11.9999C11.2089 11.9999 10.4355 11.7653 9.77772 11.3258C9.11992 10.8862 8.60723 10.2615 8.30448 9.53061C8.00173 8.79971 7.92251 7.99544 8.07686 7.21952C8.2312 6.4436 8.61216 5.73086 9.17157 5.17145C9.73098 4.61204 10.4437 4.23108 11.2196 4.07674C11.9956 3.9224 12.7998 4.00161 13.5307 4.30436C14.2616 4.60711 14.8863 5.1198 15.3259 5.7776C15.7654 6.4354 16 7.20876 16 7.99988C16 9.06075 15.5786 10.0782 14.8284 10.8283C14.0783 11.5785 13.0609 11.9999 12 11.9999Z" />
                </svg>
                <p>О себе</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='streamerGiftsTab'" :class="{'profileMenuActive':tabActive==='streamerGiftsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 12V22H4V12" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M22 7H2V12H22V7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 22V7" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 7H16.5C17.163 7 17.7989 6.73661 18.2678 6.26777C18.7366 5.79893 19 5.16304 19 4.5C19 3.83696 18.7366 3.20107 18.2678 2.73223C17.7989 2.26339 17.163 2 16.5 2C13 2 12 7 12 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 7H7.5C6.83696 7 6.20107 6.73661 5.73223 6.26777C5.26339 5.79893 5 5.16304 5 4.5C5 3.83696 5.26339 3.20107 5.73223 2.73223C6.20107 2.26339 6.83696 2 7.5 2C11 2 12 7 12 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>

                <p>Подарки</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='streamerFriendsTab'" :class="{'profileMenuActive':tabActive==='streamerFriendsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.3 12.22C12.8336 11.7581 13.2616 11.1869 13.5549 10.545C13.8482 9.90316 14 9.20571 14 8.5C14 7.17392 13.4732 5.90215 12.5355 4.96447C11.5979 4.02678 10.3261 3.5 9 3.5C7.67392 3.5 6.40215 4.02678 5.46447 4.96447C4.52678 5.90215 4 7.17392 4 8.5C3.99999 9.20571 4.1518 9.90316 4.44513 10.545C4.73845 11.1869 5.16642 11.7581 5.7 12.22C4.30014 12.8539 3.11247 13.8775 2.27898 15.1685C1.4455 16.4596 1.00147 17.9633 1 19.5C1 19.7652 1.10536 20.0196 1.29289 20.2071C1.48043 20.3946 1.73478 20.5 2 20.5C2.26522 20.5 2.51957 20.3946 2.70711 20.2071C2.89464 20.0196 3 19.7652 3 19.5C3 17.9087 3.63214 16.3826 4.75736 15.2574C5.88258 14.1321 7.4087 13.5 9 13.5C10.5913 13.5 12.1174 14.1321 13.2426 15.2574C14.3679 16.3826 15 17.9087 15 19.5C15 19.7652 15.1054 20.0196 15.2929 20.2071C15.4804 20.3946 15.7348 20.5 16 20.5C16.2652 20.5 16.5196 20.3946 16.7071 20.2071C16.8946 20.0196 17 19.7652 17 19.5C16.9985 17.9633 16.5545 16.4596 15.721 15.1685C14.8875 13.8775 13.6999 12.8539 12.3 12.22ZM9 11.5C8.40666 11.5 7.82664 11.3241 7.33329 10.9944C6.83994 10.6648 6.45542 10.1962 6.22836 9.64805C6.0013 9.09987 5.94189 8.49667 6.05764 7.91473C6.1734 7.33279 6.45912 6.79824 6.87868 6.37868C7.29824 5.95912 7.83279 5.6734 8.41473 5.55764C8.99667 5.44189 9.59987 5.5013 10.1481 5.72836C10.6962 5.95542 11.1648 6.33994 11.4944 6.83329C11.8241 7.32664 12 7.90666 12 8.5C12 9.29565 11.6839 10.0587 11.1213 10.6213C10.5587 11.1839 9.79565 11.5 9 11.5ZM18.74 11.82C19.38 11.0993 19.798 10.2091 19.9438 9.25634C20.0896 8.30362 19.9569 7.32907 19.5618 6.45C19.1666 5.57093 18.5258 4.8248 17.7165 4.30142C16.9071 3.77805 15.9638 3.49974 15 3.5C14.7348 3.5 14.4804 3.60536 14.2929 3.79289C14.1054 3.98043 14 4.23478 14 4.5C14 4.76522 14.1054 5.01957 14.2929 5.20711C14.4804 5.39464 14.7348 5.5 15 5.5C15.7956 5.5 16.5587 5.81607 17.1213 6.37868C17.6839 6.94129 18 7.70435 18 8.5C17.9986 9.02524 17.8593 9.5409 17.5961 9.99542C17.3328 10.4499 16.9549 10.8274 16.5 11.09C16.3517 11.1755 16.2279 11.2977 16.1404 11.4447C16.0528 11.5918 16.0045 11.7589 16 11.93C15.9958 12.0998 16.0349 12.2678 16.1137 12.4183C16.1924 12.5687 16.3081 12.6967 16.45 12.79L16.84 13.05L16.97 13.12C18.1754 13.6917 19.1923 14.596 19.901 15.7263C20.6096 16.8566 20.9805 18.1659 20.97 19.5C20.97 19.7652 21.0754 20.0196 21.2629 20.2071C21.4504 20.3946 21.7048 20.5 21.97 20.5C22.2352 20.5 22.4896 20.3946 22.6771 20.2071C22.8646 20.0196 22.97 19.7652 22.97 19.5C22.9782 17.9654 22.5938 16.4543 21.8535 15.1101C21.1131 13.7659 20.0413 12.6333 18.74 11.82Z" />
                </svg>
                <p>Друзья</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='streamerChatsTab'" :class="{'profileMenuActive':tabActive==='streamerChatsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 9C11.8022 9 11.6089 9.05865 11.4444 9.16853C11.28 9.27841 11.1518 9.43459 11.0761 9.61732C11.0004 9.80004 10.9806 10.0011 11.0192 10.1951C11.0578 10.3891 11.153 10.5673 11.2929 10.7071C11.4327 10.847 11.6109 10.9422 11.8049 10.9808C11.9989 11.0194 12.2 10.9996 12.3827 10.9239C12.5654 10.8482 12.7216 10.72 12.8315 10.5556C12.9414 10.3911 13 10.1978 13 10C13 9.73478 12.8946 9.48043 12.7071 9.29289C12.5196 9.10536 12.2652 9 12 9ZM19 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V15C2 15.7956 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H16.59L20.29 21.71C20.3834 21.8027 20.4943 21.876 20.6161 21.9258C20.7379 21.9755 20.8684 22.0008 21 22C21.1312 22.0034 21.2613 21.976 21.38 21.92C21.5626 21.845 21.7189 21.7176 21.8293 21.5539C21.9396 21.3901 21.999 21.1974 22 21V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7956 2 19 2ZM20 18.59L17.71 16.29C17.6166 16.1973 17.5057 16.124 17.3839 16.0742C17.2621 16.0245 17.1316 15.9992 17 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V18.59ZM8 9C7.80222 9 7.60888 9.05865 7.44443 9.16853C7.27998 9.27841 7.15181 9.43459 7.07612 9.61732C7.00043 9.80004 6.98063 10.0011 7.01921 10.1951C7.0578 10.3891 7.15304 10.5673 7.29289 10.7071C7.43275 10.847 7.61093 10.9422 7.80491 10.9808C7.99889 11.0194 8.19996 10.9996 8.38268 10.9239C8.56541 10.8482 8.72159 10.72 8.83147 10.5556C8.94135 10.3911 9 10.1978 9 10C9 9.73478 8.89464 9.48043 8.70711 9.29289C8.51957 9.10536 8.26522 9 8 9ZM16 9C15.8022 9 15.6089 9.05865 15.4444 9.16853C15.28 9.27841 15.1518 9.43459 15.0761 9.61732C15.0004 9.80004 14.9806 10.0011 15.0192 10.1951C15.0578 10.3891 15.153 10.5673 15.2929 10.7071C15.4327 10.847 15.6109 10.9422 15.8049 10.9808C15.9989 11.0194 16.2 10.9996 16.3827 10.9239C16.5654 10.8482 16.7216 10.72 16.8315 10.5556C16.9414 10.3911 17 10.1978 17 10C17 9.73478 16.8946 9.48043 16.7071 9.29289C16.5196 9.10536 16.2652 9 16 9Z" />
                </svg>
                <p>Чаты</p>
              </div>
              <div class="user-profile-menu__item" @click="tabActive='streamerBalanceTab'" :class="{'profileMenuActive':tabActive==='streamerBalanceTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7 16C7.39782 16 7.77936 15.842 8.06066 15.5607C8.34196 15.2794 8.5 14.8978 8.5 14.5C8.50488 14.4501 8.50488 14.3999 8.5 14.35L11.29 11.56H11.52H11.75L13.36 13.17C13.36 13.17 13.36 13.22 13.36 13.25C13.36 13.6478 13.518 14.0294 13.7993 14.3107C14.0806 14.592 14.4622 14.75 14.86 14.75C15.2578 14.75 15.6394 14.592 15.9207 14.3107C16.202 14.0294 16.36 13.6478 16.36 13.25V13.17L20 9.5C20.2967 9.5 20.5867 9.41203 20.8334 9.2472C21.08 9.08238 21.2723 8.84811 21.3858 8.57403C21.4993 8.29994 21.5291 7.99834 21.4712 7.70736C21.4133 7.41639 21.2704 7.14912 21.0607 6.93934C20.8509 6.72956 20.5836 6.5867 20.2926 6.52882C20.0017 6.47094 19.7001 6.50065 19.426 6.61418C19.1519 6.72771 18.9176 6.91997 18.7528 7.16664C18.588 7.41332 18.5 7.70333 18.5 8C18.4951 8.04988 18.4951 8.10012 18.5 8.15L14.89 11.76H14.73L13 10C13 9.60218 12.842 9.22064 12.5607 8.93934C12.2794 8.65804 11.8978 8.5 11.5 8.5C11.1022 8.5 10.7206 8.65804 10.4393 8.93934C10.158 9.22064 10 9.60218 10 10L7 13C6.60218 13 6.22064 13.158 5.93934 13.4393C5.65804 13.7206 5.5 14.1022 5.5 14.5C5.5 14.8978 5.65804 15.2794 5.93934 15.5607C6.22064 15.842 6.60218 16 7 16ZM20.5 20H3.5V3C3.5 2.73478 3.39464 2.48043 3.20711 2.29289C3.01957 2.10536 2.76522 2 2.5 2C2.23478 2 1.98043 2.10536 1.79289 2.29289C1.60536 2.48043 1.5 2.73478 1.5 3V21C1.5 21.2652 1.60536 21.5196 1.79289 21.7071C1.98043 21.8946 2.23478 22 2.5 22H20.5C20.7652 22 21.0196 21.8946 21.2071 21.7071C21.3946 21.5196 21.5 21.2652 21.5 21C21.5 20.7348 21.3946 20.4804 21.2071 20.2929C21.0196 20.1054 20.7652 20 20.5 20Z" />
                </svg>
                <p>Баланс</p>
              </div>
              <div  class="user-profile-menu__item " @click="tabActive='streamerStreamsTab'" :class="{'profileMenuActive':tabActive==='streamerStreamsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.54 6.42C22.4212 5.94541 22.1793 5.51057 21.8386 5.15941C21.498 4.80824 21.0707 4.55318 20.6 4.42C18.88 4 12 4 12 4C12 4 5.11999 4 3.39999 4.46C2.92924 4.59318 2.50197 4.84824 2.16134 5.19941C1.82071 5.55057 1.57878 5.98541 1.45999 6.46C1.14521 8.20556 0.991228 9.97631 0.999992 11.75C0.988771 13.537 1.14276 15.3213 1.45999 17.08C1.59095 17.5398 1.8383 17.9581 2.17814 18.2945C2.51797 18.6308 2.93881 18.8738 3.39999 19C5.11999 19.46 12 19.46 12 19.46C12 19.46 18.88 19.46 20.6 19C21.0707 18.8668 21.498 18.6118 21.8386 18.2606C22.1793 17.9094 22.4212 17.4746 22.54 17C22.8524 15.2676 23.0063 13.5103 23 11.75C23.0112 9.96295 22.8572 8.1787 22.54 6.42V6.42Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M9.75 15.02L15.5 11.75L9.75 8.47998V15.02Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p >Стримы</p>
              </div>
              <div  class="user-profile-menu__item " @click="tabActive='streamerAlbumsTab'" :class="{'profileMenuActive':tabActive==='streamerAlbumsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V19C2 19.7956 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H19C19.1645 21.9977 19.3284 21.981 19.49 21.95L19.79 21.88H19.86H19.91L20.28 21.74L20.41 21.67C20.51 21.61 20.62 21.56 20.72 21.49C20.8535 21.3918 20.9805 21.2849 21.1 21.17L21.17 21.08C21.2682 20.9805 21.3585 20.8735 21.44 20.76L21.53 20.63C21.5998 20.5187 21.6601 20.4016 21.71 20.28C21.7374 20.232 21.7609 20.1818 21.78 20.13C21.83 20.01 21.86 19.88 21.9 19.75V19.6C21.9567 19.4046 21.9903 19.2032 22 19V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7956 2 19 2ZM5 20C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V14.69L7.29 11.39C7.38296 11.2963 7.49356 11.2219 7.61542 11.1711C7.73728 11.1203 7.86799 11.0942 8 11.0942C8.13201 11.0942 8.26272 11.1203 8.38458 11.1711C8.50644 11.2219 8.61704 11.2963 8.71 11.39L17.31 20H5ZM20 19C19.9991 19.1233 19.9753 19.2453 19.93 19.36C19.9071 19.4087 19.8804 19.4556 19.85 19.5C19.8232 19.5423 19.7931 19.5825 19.76 19.62L14.41 14.27L15.29 13.39C15.383 13.2963 15.4936 13.2219 15.6154 13.1711C15.7373 13.1203 15.868 13.0942 16 13.0942C16.132 13.0942 16.2627 13.1203 16.3846 13.1711C16.5064 13.2219 16.617 13.2963 16.71 13.39L20 16.69V19ZM20 13.86L18.12 12C17.5477 11.457 16.7889 11.1543 16 11.1543C15.2111 11.1543 14.4523 11.457 13.88 12L13 12.88L10.12 10C9.54772 9.45699 8.7889 9.15428 8 9.15428C7.2111 9.15428 6.45228 9.45699 5.88 10L4 11.86V5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V13.86Z" />
                </svg>
                <p >Альбомы</p>
              </div>
              <div  class="user-profile-menu__item " @click="tabActive='streamerPostsTab'" :class="{'profileMenuActive':tabActive==='streamerPostsTab'}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 13H4C3.73478 13 3.48043 13.1054 3.29289 13.2929C3.10536 13.4804 3 13.7348 3 14V20C3 20.2652 3.10536 20.5196 3.29289 20.7071C3.48043 20.8946 3.73478 21 4 21H10C10.2652 21 10.5196 20.8946 10.7071 20.7071C10.8946 20.5196 11 20.2652 11 20V14C11 13.7348 10.8946 13.4804 10.7071 13.2929C10.5196 13.1054 10.2652 13 10 13ZM9 19H5V15H9V19ZM20 3H14C13.7348 3 13.4804 3.10536 13.2929 3.29289C13.1054 3.48043 13 3.73478 13 4V10C13 10.2652 13.1054 10.5196 13.2929 10.7071C13.4804 10.8946 13.7348 11 14 11H20C20.2652 11 20.5196 10.8946 20.7071 10.7071C20.8946 10.5196 21 10.2652 21 10V4C21 3.73478 20.8946 3.48043 20.7071 3.29289C20.5196 3.10536 20.2652 3 20 3ZM19 9H15V5H19V9ZM20 16H18V14C18 13.7348 17.8946 13.4804 17.7071 13.2929C17.5196 13.1054 17.2652 13 17 13C16.7348 13 16.4804 13.1054 16.2929 13.2929C16.1054 13.4804 16 13.7348 16 14V16H14C13.7348 16 13.4804 16.1054 13.2929 16.2929C13.1054 16.4804 13 16.7348 13 17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18H16V20C16 20.2652 16.1054 20.5196 16.2929 20.7071C16.4804 20.8946 16.7348 21 17 21C17.2652 21 17.5196 20.8946 17.7071 20.7071C17.8946 20.5196 18 20.2652 18 20V18H20C20.2652 18 20.5196 17.8946 20.7071 17.7071C20.8946 17.5196 21 17.2652 21 17C21 16.7348 20.8946 16.4804 20.7071 16.2929C20.5196 16.1054 20.2652 16 20 16ZM10 3H4C3.73478 3 3.48043 3.10536 3.29289 3.29289C3.10536 3.48043 3 3.73478 3 4V10C3 10.2652 3.10536 10.5196 3.29289 10.7071C3.48043 10.8946 3.73478 11 4 11H10C10.2652 11 10.5196 10.8946 10.7071 10.7071C10.8946 10.5196 11 10.2652 11 10V4C11 3.73478 10.8946 3.48043 10.7071 3.29289C10.5196 3.10536 10.2652 3 10 3ZM9 9H5V5H9V9Z" />
                </svg>
                <p >Посты</p>
              </div>

            </div>
          </div>
          <div v-if="!this.$auth.user.is_streamer" class="user-profile-left">

            <div v-if="tabActive==='infoTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-block">
                <div @click="accordeon1Active=true, tabActive='settingsTab'" class="user-profile-block__edit">
                  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="30" height="30" rx="3" fill="#F8F8FB"/>
                    <path d="M8 20.9999H12.24C12.3716 21.0007 12.5021 20.9755 12.6239 20.9257C12.7457 20.8759 12.8566 20.8026 12.95 20.7099L19.87 13.7799L22.71 10.9999C22.8037 10.907 22.8781 10.7964 22.9289 10.6745C22.9797 10.5527 23.0058 10.422 23.0058 10.2899C23.0058 10.1579 22.9797 10.0272 22.9289 9.90536C22.8781 9.7835 22.8037 9.6729 22.71 9.57994L18.47 5.28994C18.377 5.19621 18.2664 5.12182 18.1446 5.07105C18.0227 5.02028 17.892 4.99414 17.76 4.99414C17.628 4.99414 17.4973 5.02028 17.3754 5.07105C17.2536 5.12182 17.143 5.19621 17.05 5.28994L14.23 8.11994L7.29 15.0499C7.19732 15.1434 7.12399 15.2542 7.07423 15.376C7.02446 15.4979 6.99924 15.6283 7 15.7599V19.9999C7 20.2652 7.10536 20.5195 7.29289 20.707C7.48043 20.8946 7.73478 20.9999 8 20.9999ZM17.76 7.40994L20.59 10.2399L19.17 11.6599L16.34 8.82994L17.76 7.40994ZM9 16.1699L14.93 10.2399L17.76 13.0699L11.83 18.9999H9V16.1699ZM24 22.9999H6C5.73478 22.9999 5.48043 23.1053 5.29289 23.2928C5.10536 23.4804 5 23.7347 5 23.9999C5 24.2652 5.10536 24.5195 5.29289 24.707C5.48043 24.8946 5.73478 24.9999 6 24.9999H24C24.2652 24.9999 24.5196 24.8946 24.7071 24.707C24.8946 24.5195 25 24.2652 25 23.9999C25 23.7347 24.8946 23.4804 24.7071 23.2928C24.5196 23.1053 24.2652 22.9999 24 22.9999Z" fill="#CECFDF"/>
                  </svg>

                </div>
                <h3 class="user-profile-block__title">有关我的信息</h3>
                <div class="user-profile-block__info-grid">
                  <p>已加入</p>
                  <p>{{ new Date(this.$auth.user.date_joined).getFullYear()}}年
                    {{ new Date(this.$auth.user.date_joined).getMonth()}}月
                    {{ new Date(this.$auth.user.date_joined).getDay()}}</p>
                </div>
                <div class="user-profile-block__info-grid">
                  <p>市</p>
                  <p>{{this.$auth.user.city}}</p>
                </div>
                <div class="user-profile-block__info-grid">
                  <p>国家</p>
                  <p>俄罗斯联邦</p>
                </div>
                <div v-if="this.$auth.user.birthday" class="user-profile-block__info-grid">
                  <p>年龄</p>
                  <p>{{this.$auth.user.years}}</p>
                </div>
                <p v-if="this.$auth.user.about" class="user-profile-block__text">{{this.$auth.user.about}}</p>

              </div>
              <div v-if="this.$auth.user.interests || this.$auth.user.interests_additional" class="user-profile-block">
                <div @click="accordeon2Active=true, tabActive='settingsTab'" class="user-profile-block__edit">
                  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="30" height="30" rx="3" fill="#F8F8FB"/>
                    <path d="M8 20.9999H12.24C12.3716 21.0007 12.5021 20.9755 12.6239 20.9257C12.7457 20.8759 12.8566 20.8026 12.95 20.7099L19.87 13.7799L22.71 10.9999C22.8037 10.907 22.8781 10.7964 22.9289 10.6745C22.9797 10.5527 23.0058 10.422 23.0058 10.2899C23.0058 10.1579 22.9797 10.0272 22.9289 9.90536C22.8781 9.7835 22.8037 9.6729 22.71 9.57994L18.47 5.28994C18.377 5.19621 18.2664 5.12182 18.1446 5.07105C18.0227 5.02028 17.892 4.99414 17.76 4.99414C17.628 4.99414 17.4973 5.02028 17.3754 5.07105C17.2536 5.12182 17.143 5.19621 17.05 5.28994L14.23 8.11994L7.29 15.0499C7.19732 15.1434 7.12399 15.2542 7.07423 15.376C7.02446 15.4979 6.99924 15.6283 7 15.7599V19.9999C7 20.2652 7.10536 20.5195 7.29289 20.707C7.48043 20.8946 7.73478 20.9999 8 20.9999ZM17.76 7.40994L20.59 10.2399L19.17 11.6599L16.34 8.82994L17.76 7.40994ZM9 16.1699L14.93 10.2399L17.76 13.0699L11.83 18.9999H9V16.1699ZM24 22.9999H6C5.73478 22.9999 5.48043 23.1053 5.29289 23.2928C5.10536 23.4804 5 23.7347 5 23.9999C5 24.2652 5.10536 24.5195 5.29289 24.707C5.48043 24.8946 5.73478 24.9999 6 24.9999H24C24.2652 24.9999 24.5196 24.8946 24.7071 24.707C24.8946 24.5195 25 24.2652 25 23.9999C25 23.7347 24.8946 23.4804 24.7071 23.2928C24.5196 23.1053 24.2652 22.9999 24 22.9999Z" fill="#CECFDF"/>
                  </svg>

                </div>
                <h3 class="user-profile-block__title">我的兴趣爱好</h3>
                <p v-if="this.$auth.user.interests" class="user-profile-block__text mb-20">{{this.$auth.user.interests}}</p>
                <p v-if="this.$auth.user.interests_additional" class="user-profile-block__text mb-20">{{this.$auth.user.interests_additional}}</p>
                <div class="user-profile-block__tags">
                  <p v-if="$auth.user.tags.includes(tag.id)" class="user-profile-block__tag" v-for="tag in tags" :key="tag.id">{{tag.name}}</p>

                </div>
              </div>

              <div class="user-profile-block">

                <h3 class="user-profile-block__title">礼物历史</h3>
                <div v-if="!gift.gift.is_special_gift" class="gift-table-item" v-for="gift in sended_gift" :key="gift.id">
                  <p class="gift-table-item__date">{{gift.created_at}}</p>
                  <div class="gift-table-item__user">
                    <img :src="gift.user.avatar" alt="">
                    <div class="gift-table-item__user--name">
                      <p>{{gift.user.fio}}</p>
                      <p>@{{gift.user.nickname}}</p>
                    </div>
                  </div>
                  <div class="gift-table-item__img">
                    <img :src="gift.gift.image" alt="">
                  </div>

                  <div class="gift-table-item__price">
                    <img src="/diamond.svg" alt="">
                    <p>{{gift.gift.price}}</p>
                  </div>

                </div>
              </div>
              <div class="user-profile-block">

                <h3 class="user-profile-block__title">女孩的服务</h3>
                <div v-if="gift.gift.is_special_gift" class="gift-table-item" v-for="gift in sended_gift" :key="gift.id">
                  <p class="gift-table-item__date">{{gift.created_at}}</p>
                  <div class="gift-table-item__user">
                    <img :src="gift.user.avatar" alt="">
                    <div class="gift-table-item__user--name">
                      <p>{{gift.user.fio}}</p>
                      <p>@{{gift.user.nickname}}</p>
                    </div>
                  </div>
                  <div class="gift-table-item__img">
                    {{gift.message}}
                  </div>

                  <div class="gift-table-item__price">
                    <img src="/diamond.svg" alt="">
                    <p>{{gift.gift.price}}</p>
                  </div>
                  <div class="gift-table-item__btn">
                    <p>+</p>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="tabActive==='statsTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-block">
                <h3 class="user-profile-block__title">我的个人资料评分</h3>
                <p class="user-profile-block__text mb-30">个人资料评分是您在我们平台上的活动的量度！ 您采取的行动越多，您的评级就越高，您从我们这里获得的奖金和礼物就越多！</p>
                <div class="user-profile-stats">
                  <div class="user-profile-stats__bar">
                    <div class="user-profile-stats__bar--step progress-step1 " :class="{'progressStepActive': this.$auth.user.level >= 1  }">
                      <div data-num="1" class="user-profile-stats__bar--step--top">
                        <svg width="36" height="46" viewBox="0 0 36 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.692 39.7342L18 42.0645L19.308 39.7342L22.0541 34.8421C29.2313 32.982 34.5 26.3173 34.5 18.4286C34.5 9.11929 27.1523 1.5 18 1.5C8.84775 1.5 1.5 9.11929 1.5 18.4286C1.5 26.3173 6.76866 32.982 13.9459 34.8421L16.692 39.7342Z"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>
                      <svg class="user-profile-stats__bar--step--separator" width="4" height="10" viewBox="0 0 4 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="4" height="10" fill="white"/>
                      </svg>
                      <p class="user-profile-stats__bar--step--points">330</p>
                      <div data-num="-15%" class="user-profile-stats__bar--step--bottom">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="20" cy="20" r="18.5"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>
                    </div>
                    <div class="user-profile-stats__bar--step progress-step2" :class="{'progressStepActive': this.$auth.user.level >= 2}">
                      <div data-num="2" class="user-profile-stats__bar--step--top">
                        <svg width="36" height="46" viewBox="0 0 36 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.692 39.7342L18 42.0645L19.308 39.7342L22.0541 34.8421C29.2313 32.982 34.5 26.3173 34.5 18.4286C34.5 9.11929 27.1523 1.5 18 1.5C8.84775 1.5 1.5 9.11929 1.5 18.4286C1.5 26.3173 6.76866 32.982 13.9459 34.8421L16.692 39.7342Z"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>
                      <svg class="user-profile-stats__bar--step--separator" width="4" height="10" viewBox="0 0 4 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="4" height="10" fill="white"/>
                      </svg>
                      <p class="user-profile-stats__bar--step--points">330</p>
                      <div data-num="-25%" class="user-profile-stats__bar--step--bottom">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="20" cy="20" r="18.5"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>


                    </div>
                    <div class="user-profile-stats__bar--step progress-step3" :class="{'progressStepActive': this.$auth.user.level >= 3}">
                      <div data-num="3" class="user-profile-stats__bar--step--top">
                        <svg width="36" height="46" viewBox="0 0 36 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.692 39.7342L18 42.0645L19.308 39.7342L22.0541 34.8421C29.2313 32.982 34.5 26.3173 34.5 18.4286C34.5 9.11929 27.1523 1.5 18 1.5C8.84775 1.5 1.5 9.11929 1.5 18.4286C1.5 26.3173 6.76866 32.982 13.9459 34.8421L16.692 39.7342Z"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>
                      <svg class="user-profile-stats__bar--step--separator" width="4" height="10" viewBox="0 0 4 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="4" height="10" fill="white"/>
                      </svg>
                      <p class="user-profile-stats__bar--step--points">330</p>
                      <div data-num="-35%" class="user-profile-stats__bar--step--bottom">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="20" cy="20" r="18.5"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>


                    </div>
                    <div class="user-profile-stats__bar--step progress-step4" :class="{'progressStepActive': this.$auth.user.level === 4}">
                      <div data-num="4" class="user-profile-stats__bar--step--top">
                        <svg width="36" height="46" viewBox="0 0 36 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.692 39.7342L18 42.0645L19.308 39.7342L22.0541 34.8421C29.2313 32.982 34.5 26.3173 34.5 18.4286C34.5 9.11929 27.1523 1.5 18 1.5C8.84775 1.5 1.5 9.11929 1.5 18.4286C1.5 26.3173 6.76866 32.982 13.9459 34.8421L16.692 39.7342Z"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>
                      <svg class="user-profile-stats__bar--step--separator" width="4" height="10" viewBox="0 0 4 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="4" height="10" fill="white"/>
                      </svg>
                      <p class="user-profile-stats__bar--step--points">330</p>
                      <div data-num="-40%" class="user-profile-stats__bar--step--bottom">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="20" cy="20" r="18.5"  stroke="white" stroke-width="3"/>
                        </svg>
                      </div>


                    </div>
                    <div class="user-profile-stats__mainbar">
                      <div class="user-profile-stats__progressbar" :style="'width:' + 100 / this.$auth.user.rating + '%'">
                        <p>{{this.$auth.user.rating}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="user-profile-block">
                <h3 class="user-profile-block__title">评分如何变化?</h3>
                <div class="user-profile-stats-info">
                  <div class="user-profile-stats-info__item">
                    <p>每日注销</p>
                    <p>-10</p>
                  </div>
                  <div class="user-profile-stats-info__item">
                    <p>给女孩一个普通的礼物</p>
                    <p>+25</p>
                  </div>
                  <div class="user-profile-stats-info__item">
                    <p>给女孩大礼物</p>
                    <p>+50</p>
                  </div>
                  <div class="user-profile-stats-info__item">
                    <p>私人流与一个女孩</p>
                    <p>+100</p>
                  </div>
                  <div class="user-profile-stats-info__item">
                    <p>向女孩订购图纸</p>
                    <p>+30</p>
                  </div>
                </div>



              </div>

            </div>
            <div v-if="tabActive==='balanceTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-block">
                <h3 class="user-profile-block__title">个怎么运作</h3>
                <div style="display: grid;grid-template-columns: 1fr 1fr;grid-gap: 20px">
                  <img style="cursor: pointer" @click="balanceAddAmount=150,balanceDialogVisible=true" src="/card1.png" alt="">
                  <img style="cursor: pointer" @click="balanceAddAmount=300,balanceDialogVisible=true" src="/card2.png" alt="">
                  <img style="cursor: pointer" @click="balanceAddAmount=750,balanceDialogVisible=true" src="/card3.png" alt="">
                  <img style="cursor: pointer" @click="balanceAddAmount=1500,balanceDialogVisible=true" src="/card4.png" alt="">
                </div>

              </div>

            </div>
            <div v-if="tabActive==='friendsTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-block">
                <div class="user-profile-friends-wrapper">

                  <div  class="user-profile-friends-item" v-for="friend in this.$auth.user.own_friend_list[0].friend_list">

                    <div @click="$router.push(`/profile/${friend.nickname}`)" class="user-profile-friends-item__img">
                      <img :src="friend.avatar" alt="">
                    </div>
                    <div class="user-profile-friends-item__info">
                      <p @click="$router.push(`/profile/${friend.nickname}`)" class="user-profile-friends-item__info--name">{{friend.fio}}</p>
                      <p class="user-profile-friends-item__info--link mb-20">@{{friend.nickname}}</p>
                      <!--                      <p class="user-profile-friends-item__info&#45;&#45;yo">{{friend.years}}岁</p>-->
                    </div>
                    <div class="user-profile-friends-item__buttons">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 11L18 13" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 9L18 13" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11C10.2091 11 12 9.20914 12 7C12 4.79086 10.2091 3 8 3C5.79086 3 4 4.79086 4 7C4 9.20914 5.79086 11 8 11Z" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <div @click="sendBlankChatMessage(friend.nickname)" class="user-profile-friends-item__button">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 9C11.8022 9 11.6089 9.05865 11.4444 9.16853C11.28 9.27841 11.1518 9.43459 11.0761 9.61732C11.0004 9.80004 10.9806 10.0011 11.0192 10.1951C11.0578 10.3891 11.153 10.5673 11.2929 10.7071C11.4327 10.847 11.6109 10.9422 11.8049 10.9808C11.9989 11.0194 12.2 10.9996 12.3827 10.9239C12.5654 10.8482 12.7216 10.72 12.8315 10.5556C12.9414 10.3911 13 10.1978 13 10C13 9.73478 12.8946 9.48043 12.7071 9.29289C12.5196 9.10536 12.2652 9 12 9ZM19 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V15C2 15.7956 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H16.59L20.29 21.71C20.3834 21.8027 20.4943 21.876 20.6161 21.9258C20.7379 21.9755 20.8684 22.0008 21 22C21.1312 22.0034 21.2613 21.976 21.38 21.92C21.5626 21.845 21.7189 21.7176 21.8293 21.5539C21.9396 21.3901 21.999 21.1974 22 21V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7956 2 19 2ZM20 18.59L17.71 16.29C17.6166 16.1973 17.5057 16.124 17.3839 16.0742C17.2621 16.0245 17.1316 15.9992 17 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V18.59ZM8 9C7.80222 9 7.60888 9.05865 7.44443 9.16853C7.27998 9.27841 7.15181 9.43459 7.07612 9.61732C7.00043 9.80004 6.98063 10.0011 7.01921 10.1951C7.0578 10.3891 7.15304 10.5673 7.29289 10.7071C7.43275 10.847 7.61093 10.9422 7.80491 10.9808C7.99889 11.0194 8.19996 10.9996 8.38268 10.9239C8.56541 10.8482 8.72159 10.72 8.83147 10.5556C8.94135 10.3911 9 10.1978 9 10C9 9.73478 8.89464 9.48043 8.70711 9.29289C8.51957 9.10536 8.26522 9 8 9ZM16 9C15.8022 9 15.6089 9.05865 15.4444 9.16853C15.28 9.27841 15.1518 9.43459 15.0761 9.61732C15.0004 9.80004 14.9806 10.0011 15.0192 10.1951C15.0578 10.3891 15.153 10.5673 15.2929 10.7071C15.4327 10.847 15.6109 10.9422 15.8049 10.9808C15.9989 11.0194 16.2 10.9996 16.3827 10.9239C16.5654 10.8482 16.7216 10.72 16.8315 10.5556C16.9414 10.3911 17 10.1978 17 10C17 9.73478 16.8946 9.48043 16.7071 9.29289C16.5196 9.10536 16.2652 9 16 9Z" />
                        </svg>

                      </div>
                    </div>
                  </div>

                </div>
              </div>

            </div>
            <div v-if="tabActive==='chatsTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-chat">
                <div class="user-profile-chat__wrapper">
                  <div class="user-profile-chat__left">
                    <div class="chat-users ">
                      <div
                        @click="openChat(chat.id)"
                        v-for="chat in chats" :key="chat.id" >
                        <div v-if="$auth.user.nickname === chat.starter.nickname" class="chat-user"
                             :class="{'chatSelected':chat.chat_opened}">
                          <div class="chat-user__img" :class="{'chatUserOnline':chat.opponent.is_online}">
                            <img :src="chat.opponent.avatar" alt="">
                          </div>
                          <div class="chat-user__user">
                            <p>{{chat.opponent.fio}}</p>
                            <p>@ {{chat.opponent.nickname}}</p>
                          </div>
                        </div>
                        <div v-else class="chat-user" :class="{'chatSelected':chat.chat_opened}">
                          <div class="chat-user__img" :class="{'chatUserOnline':chat.starter.is_online,'userVIP':chat.starter.is_vip}">
                            <img :src="chat.starter.avatar" alt="">
                          </div>
                          <div class="chat-user__user">
                            <p>{{chat.starter.fio}}</p>
                            <p>@ {{chat.starter.nickname}}</p>
                          </div>
                        </div>

                      </div>

                    </div>
                  </div>
                  <div class="user-profile-chat__right">
                    <div ref="messagesContainer" class="chat-messages">
                      <div class="chat-message"
                           :class="{'own-message':message.user.id === $auth.user.id}"
                           v-for="message in messages" :key="message.id" >

                        <div  class="chat-message__avatar"><img  :src="message.user.avatar" alt=""></div>
                        <div class="chat-message__text">
                          <p v-html="message.message"></p>
                          <img v-if="message.image" :src="message.image" alt="">
                          <span class="chat-message__text--datetime">{{new Date(message.createdAt).toLocaleDateString()}} {{new Date(message.createdAt).toLocaleTimeString()}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="chat-new-message ">
                      <div class="chat-new-message__attach">
                        <el-upload action="" :show-file-list="false" :on-success="handleChatImgSuccess">


                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.1101 15.39L8.23008 19.27C8.00059 19.5004 7.72787 19.6832 7.42756 19.8079C7.12725 19.9326 6.80527 19.9969 6.48008 19.9969C6.15489 19.9969 5.83291 19.9326 5.5326 19.8079C5.23229 19.6832 4.95957 19.5004 4.73008 19.27C4.49848 19.0412 4.3146 18.7686 4.1891 18.4682C4.0636 18.1678 3.99898 17.8455 3.99898 17.52C3.99898 17.1944 4.0636 16.8721 4.1891 16.5717C4.3146 16.2713 4.49848 15.9988 4.73008 15.77L8.61008 11.89C8.79838 11.7017 8.90417 11.4463 8.90417 11.18C8.90417 10.9137 8.79838 10.6583 8.61008 10.47C8.42178 10.2817 8.16638 10.1759 7.90008 10.1759C7.63378 10.1759 7.37838 10.2817 7.19008 10.47L3.31008 14.36C2.52844 15.2108 2.1057 16.3306 2.13016 17.4857C2.15461 18.6408 2.62436 19.7418 3.44131 20.5587C4.25826 21.3757 5.35924 21.8454 6.51433 21.8699C7.66941 21.8943 8.78929 21.4716 9.64008 20.69L13.5301 16.81C13.7184 16.6217 13.8242 16.3663 13.8242 16.1C13.8242 15.8337 13.7184 15.5783 13.5301 15.39C13.3418 15.2017 13.0864 15.0959 12.8201 15.0959C12.5538 15.0959 12.2984 15.2017 12.1101 15.39ZM8.83008 15.17C8.92352 15.2626 9.03434 15.336 9.15617 15.3857C9.27801 15.4355 9.40847 15.4607 9.54008 15.46C9.67169 15.4607 9.80215 15.4355 9.92399 15.3857C10.0458 15.336 10.1566 15.2626 10.2501 15.17L15.1701 10.25C15.3584 10.0617 15.4642 9.80626 15.4642 9.53996C15.4642 9.27366 15.3584 9.01826 15.1701 8.82996C14.9818 8.64165 14.7264 8.53587 14.4601 8.53587C14.1938 8.53587 13.9384 8.64165 13.7501 8.82996L8.83008 13.75C8.73635 13.8429 8.66196 13.9535 8.61119 14.0754C8.56042 14.1972 8.53428 14.3279 8.53428 14.46C8.53428 14.592 8.56042 14.7227 8.61119 14.8445C8.66196 14.9664 8.73635 15.077 8.83008 15.17ZM21.0001 18H20.0001V17C20.0001 16.7347 19.8947 16.4804 19.7072 16.2929C19.5197 16.1053 19.2653 16 19.0001 16C18.7349 16 18.4805 16.1053 18.293 16.2929C18.1054 16.4804 18.0001 16.7347 18.0001 17V18H17.0001C16.7349 18 16.4805 18.1053 16.293 18.2929C16.1054 18.4804 16.0001 18.7347 16.0001 19C16.0001 19.2652 16.1054 19.5195 16.293 19.7071C16.4805 19.8946 16.7349 20 17.0001 20H18.0001V21C18.0001 21.2652 18.1054 21.5195 18.293 21.7071C18.4805 21.8946 18.7349 22 19.0001 22C19.2653 22 19.5197 21.8946 19.7072 21.7071C19.8947 21.5195 20.0001 21.2652 20.0001 21V20H21.0001C21.2653 20 21.5197 19.8946 21.7072 19.7071C21.8947 19.5195 22.0001 19.2652 22.0001 19C22.0001 18.7347 21.8947 18.4804 21.7072 18.2929C21.5197 18.1053 21.2653 18 21.0001 18ZM16.8101 13.53L20.6901 9.63996C21.4717 8.78916 21.8945 7.66929 21.87 6.51421C21.8456 5.35912 21.3758 4.25814 20.5588 3.44119C19.7419 2.62424 18.6409 2.15449 17.4858 2.13003C16.3307 2.10558 15.2109 2.52831 14.3601 3.30996L10.4701 7.18996C10.3768 7.2832 10.3029 7.39389 10.2524 7.51571C10.202 7.63753 10.176 7.7681 10.176 7.89996C10.176 8.03182 10.202 8.16239 10.2524 8.28421C10.3029 8.40603 10.3768 8.51672 10.4701 8.60996C10.5633 8.7032 10.674 8.77716 10.7958 8.82762C10.9177 8.87808 11.0482 8.90405 11.1801 8.90405C11.3119 8.90405 11.4425 8.87808 11.5643 8.82762C11.6862 8.77716 11.7968 8.7032 11.8901 8.60996L15.7701 4.72996C15.9996 4.49956 16.2723 4.31675 16.5726 4.19201C16.8729 4.06727 17.1949 4.00306 17.5201 4.00306C17.8453 4.00306 18.1673 4.06727 18.4676 4.19201C18.7679 4.31675 19.0406 4.49956 19.2701 4.72996C19.5017 4.95877 19.6856 5.23127 19.8111 5.53167C19.9366 5.83207 20.0012 6.1544 20.0012 6.47996C20.0012 6.80552 19.9366 7.12785 19.8111 7.42825C19.6856 7.72865 19.5017 8.00115 19.2701 8.22996L15.3901 12.11C15.2964 12.2029 15.222 12.3135 15.1712 12.4354C15.1204 12.5572 15.0943 12.6879 15.0943 12.82C15.0943 12.952 15.1204 13.0827 15.1712 13.2045C15.222 13.3264 15.2964 13.437 15.3901 13.53C15.483 13.6237 15.5936 13.6981 15.7155 13.7489C15.8374 13.7996 15.9681 13.8258 16.1001 13.8258C16.2321 13.8258 16.3628 13.7996 16.4847 13.7489C16.6065 13.6981 16.7171 13.6237 16.8101 13.53Z" />
                          </svg>
                        </el-upload>
                      </div>


                      <div v-if="chatImgPreview" class="chat-new-message__img-preview">
                        <img :src="chatImgPreview" alt="">
                      </div>

                      <el-input ref="newMessage" class="chat-new-message__input"
                                placeholder="new message"
                                v-model="newMessage">
                      </el-input>
                      <div class="chat-new-message__input--smiles">

                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14.36 14.23C13.6915 14.769 12.8587 15.0629 12 15.0629C11.1413 15.0629 10.3085 14.769 9.64 14.23C9.43579 14.0603 9.17251 13.9786 8.90808 14.003C8.64365 14.0274 8.39974 14.1558 8.23 14.36C8.06027 14.5642 7.9786 14.8275 8.00298 15.0919C8.02736 15.3563 8.15579 15.6003 8.36 15.77C9.38134 16.6226 10.6696 17.0896 12 17.0896C13.3304 17.0896 14.6187 16.6226 15.64 15.77C15.8442 15.6003 15.9726 15.3563 15.997 15.0919C16.0214 14.8275 15.9397 14.5642 15.77 14.36C15.686 14.2589 15.5828 14.1753 15.4665 14.1141C15.3501 14.0528 15.2229 14.0151 15.0919 14.003C14.8275 13.9786 14.5642 14.0603 14.36 14.23ZM9 11C9.19779 11 9.39113 10.9414 9.55557 10.8315C9.72002 10.7216 9.8482 10.5654 9.92388 10.3827C9.99957 10.2 10.0194 9.99889 9.98079 9.80491C9.9422 9.61093 9.84696 9.43275 9.70711 9.29289C9.56726 9.15304 9.38908 9.0578 9.19509 9.01921C9.00111 8.98063 8.80005 9.00043 8.61732 9.07612C8.43459 9.15181 8.27842 9.27998 8.16853 9.44443C8.05865 9.60888 8 9.80222 8 10C8 10.2652 8.10536 10.5196 8.2929 10.7071C8.48043 10.8946 8.73479 11 9 11ZM15 9C14.8022 9 14.6089 9.05865 14.4444 9.16853C14.28 9.27841 14.1518 9.43459 14.0761 9.61732C14.0004 9.80004 13.9806 10.0011 14.0192 10.1951C14.0578 10.3891 14.153 10.5673 14.2929 10.7071C14.4328 10.847 14.6109 10.9422 14.8049 10.9808C14.9989 11.0194 15.2 10.9996 15.3827 10.9239C15.5654 10.8482 15.7216 10.72 15.8315 10.5556C15.9414 10.3911 16 10.1978 16 10C16 9.73478 15.8946 9.48043 15.7071 9.29289C15.5196 9.10536 15.2652 9 15 9ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z" />
                        </svg>
                        <div class="chat-new-message__input--smiles--list">
                          <p class="smiley-icon" v-for="smiley in smiles"
                             :key="smiley.id" v-html="smiley.code" @click="pasteSmiley(smiley.code)"></p>
                        </div>
                      </div>
                      <div @click="sendChatMessage" class="chat-new-message__input--send" :class="{'elementDisabled':!newMessage}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M21.15 2.86001C20.768 2.47057 20.2835 2.19723 19.7526 2.07158C19.2217 1.94594 18.6661 1.97313 18.15 2.15001L4.00005 6.88001C3.42936 7.06681 2.93074 7.42616 2.573 7.90845C2.21527 8.39073 2.01607 8.97218 2.0029 9.57251C1.98973 10.1728 2.16324 10.7625 2.49948 11.26C2.83572 11.7575 3.31811 12.1384 3.88005 12.35L9.12005 14.35C9.23937 14.3956 9.34801 14.4654 9.43919 14.5548C9.53038 14.6443 9.60216 14.7516 9.65005 14.87L11.65 20.12C11.8536 20.674 12.2231 21.1518 12.708 21.4882C13.193 21.8246 13.7698 22.0033 14.36 22H14.43C15.0311 21.9891 15.6136 21.7903 16.096 21.4317C16.5784 21.073 16.9365 20.5724 17.1201 20L21.85 5.83001C22.0221 5.31895 22.0477 4.76995 21.924 4.2451C21.8003 3.72024 21.5322 3.24046 21.15 2.86001ZM20 5.20001L15.22 19.38C15.1645 19.5595 15.0531 19.7165 14.9019 19.828C14.7508 19.9396 14.5679 19.9999 14.38 20C14.1933 20.0031 14.01 19.9492 13.8546 19.8456C13.6992 19.742 13.579 19.5936 13.51 19.42L11.51 14.17C11.3651 13.7885 11.1414 13.4418 10.8537 13.1524C10.566 12.863 10.2207 12.6373 9.84005 12.49L4.59005 10.49C4.41294 10.4251 4.2607 10.3062 4.15483 10.1501C4.04896 9.99399 3.99482 9.80856 4.00005 9.62001C4.0002 9.43215 4.06047 9.24928 4.17202 9.09813C4.28358 8.94699 4.44058 8.83551 4.62005 8.78001L18.8 4.05001C18.9629 3.98366 19.1414 3.96588 19.3141 3.99883C19.4868 4.03179 19.6462 4.11406 19.7731 4.2357C19.9001 4.35734 19.989 4.51314 20.0293 4.68427C20.0696 4.8554 20.0594 5.03453 20 5.20001Z" />
                        </svg>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="tabActive==='settingsTab'" class="user-profile-tab">
              <div class="user-profile-about">
                <div class="user-profile-about__img">
                  <el-upload class="avatar-uploader mb-25" action="" :show-file-list="false" :on-success="handleAvatarSuccess">
                    <img  :src="userData.avatar" alt="" class="avatar">
                    <p class="user-profile-about__img--change">
                      <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 8C18.7348 8 18.4804 8.10536 18.2929 8.29289C18.1054 8.48043 18 8.73478 18 9V16C18 16.2652 17.8946 16.5196 17.7071 16.7071C17.5196 16.8946 17.2652 17 17 17H3C2.73478 17 2.48043 16.8946 2.29289 16.7071C2.10536 16.5196 2 16.2652 2 16V8C2 7.73478 2.10536 7.48043 2.29289 7.29289C2.48043 7.10536 2.73478 7 3 7H5C5.21807 7.01138 5.43386 6.95107 5.61443 6.82829C5.795 6.7055 5.93042 6.52698 6 6.32L6.54 4.68C6.60709 4.48138 6.7349 4.30887 6.90537 4.18684C7.07584 4.06482 7.28036 3.99946 7.49 4H13C13.2652 4 13.5196 3.89464 13.7071 3.70711C13.8946 3.51957 14 3.26522 14 3C14 2.73478 13.8946 2.48043 13.7071 2.29289C13.5196 2.10536 13.2652 2 13 2H7.44C6.81155 2.00118 6.19933 2.19968 5.68977 2.56751C5.1802 2.93533 4.79901 3.45389 4.6 4.05L4.28 5.05H3C2.20435 5.05 1.44129 5.36607 0.87868 5.92868C0.31607 6.49129 0 7.25435 0 8.05V16.05C0 16.8456 0.31607 17.6087 0.87868 18.1713C1.44129 18.7339 2.20435 19.05 3 19.05H17C17.7956 19.05 18.5587 18.7339 19.1213 18.1713C19.6839 17.6087 20 16.8456 20 16.05V9.05C20.0068 8.91453 19.9859 8.7791 19.9387 8.65194C19.8915 8.52479 19.8189 8.40856 19.7254 8.31034C19.6318 8.21212 19.5193 8.13396 19.3946 8.08061C19.2699 8.02726 19.1356 7.99983 19 8ZM10 7C9.20887 7 8.43552 7.2346 7.77772 7.67412C7.11992 8.11365 6.60723 8.73836 6.30448 9.46927C6.00173 10.2002 5.92252 11.0044 6.07686 11.7804C6.2312 12.5563 6.61216 13.269 7.17157 13.8284C7.73098 14.3878 8.44372 14.7688 9.21964 14.9231C9.99556 15.0775 10.7998 14.9983 11.5307 14.6955C12.2616 14.3928 12.8864 13.8801 13.3259 13.2223C13.7654 12.5645 14 11.7911 14 11C14 9.93913 13.5786 8.92172 12.8284 8.17157C12.0783 7.42143 11.0609 7 10 7ZM10 13C9.60444 13 9.21776 12.8827 8.88886 12.6629C8.55996 12.4432 8.30362 12.1308 8.15224 11.7654C8.00087 11.3999 7.96126 10.9978 8.03843 10.6098C8.1156 10.2219 8.30608 9.86549 8.58579 9.58579C8.86549 9.30608 9.22186 9.1156 9.60982 9.03843C9.99778 8.96126 10.3999 9.00087 10.7654 9.15224C11.1308 9.30362 11.4432 9.55996 11.6629 9.88886C11.8827 10.2178 12 10.6044 12 11C12 11.5304 11.7893 12.0391 11.4142 12.4142C11.0391 12.7893 10.5304 13 10 13ZM21 2H20V1C20 0.734784 19.8946 0.48043 19.7071 0.292893C19.5196 0.105357 19.2652 0 19 0C18.7348 0 18.4804 0.105357 18.2929 0.292893C18.1054 0.48043 18 0.734784 18 1V2H17C16.7348 2 16.4804 2.10536 16.2929 2.29289C16.1054 2.48043 16 2.73478 16 3C16 3.26522 16.1054 3.51957 16.2929 3.70711C16.4804 3.89464 16.7348 4 17 4H18V5C18 5.26522 18.1054 5.51957 18.2929 5.70711C18.4804 5.89464 18.7348 6 19 6C19.2652 6 19.5196 5.89464 19.7071 5.70711C19.8946 5.51957 20 5.26522 20 5V4H21C21.2652 4 21.5196 3.89464 21.7071 3.70711C21.8946 3.51957 22 3.26522 22 3C22 2.73478 21.8946 2.48043 21.7071 2.29289C21.5196 2.10536 21.2652 2 21 2Z" fill="white"/>
                      </svg>
                      编辑封面图片
                    </p>
                  </el-upload>
                </div>

                <div class="user-profile-about__form">
                  <el-input placeholder="Please input" @blur="updateUser" v-model="userData.fio"></el-input>
                  <el-input placeholder="Please input" @blur="updateUser" v-model="userData.nickname"></el-input>
                </div>

              </div>
              <div class="faq-items">
                <div class="faq-item" :class="{'faqItemActive':accordeon1Active}">
                  <div class="faq-item__top" @click="accordeon1Active ? accordeon1Active=false : accordeon1Active=true">
                    <p>通用设置</p>
                    <svg  width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="17" cy="17" r="16.5" fill="white" stroke="#CECFDF"/>
                      <path d="M17 21L13.5359 15L20.4641 15L17 21Z" fill="#CECFDF"/>
                    </svg>
                  </div>
                  <div class="faq-item__content">
                    <div class="faq-item__content--inner">
                      <el-form ref="form" :model="userData" label-width="120px" label-position="left">
                        <el-form-item label="居住地">
                          <el-input v-model="userData.city"></el-input>
                        </el-form-item>
                        <el-form-item label="教育">
                          <el-input v-model="userData.education" placeholder="education"></el-input>
                        </el-form-item>
                        <el-form-item label="我的专业">
                          <el-input v-model="userData.work_place" placeholder="work_place"></el-input>
                        </el-form-item>
                        <el-form-item label="出生日期">
                          <el-date-picker v-model="userData.birthday" type="date" placeholder="birthday"
                                          format="yyyy/MM/dd" value-format="yyyy-MM-dd">
                          </el-date-picker>
                        </el-form-item>
                        <el-form-item label="个人信息">
                          <el-input type="textarea" :rows="2" placeholder="Please input" v-model="userData.about"></el-input>
                        </el-form-item>


                      </el-form>
                      <div style="margin:unset" class="btn btn-l-blue" @click="updateUser">救</div>
                    </div>

                  </div>
                </div>
                <div class="faq-item" :class="{'faqItemActive':accordeon2Active}">
                  <div class="faq-item__top" @click="accordeon2Active ? accordeon2Active=false : accordeon2Active=true">
                    <p>我的兴趣</p>
                    <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="17" cy="17" r="16.5" fill="white" />
                      <path d="M17 21L13.5359 15L20.4641 15L17 21Z" />
                    </svg>
                  </div>
                  <div class="faq-item__content">
                    <div class="faq-item__content--inner" >

                      <el-form ref="form" :model="userData" label-width="120px" label-position="left">
                        <el-form-item label="兴趣标签">
                          <el-select v-model="userData.tags" multiple placeholder="tags">
                            <el-option
                              v-for="item in tags"
                              :key="item.id"
                              :label="item.name"
                              :value="item.id">
                            </el-option>
                          </el-select>
                        </el-form-item>



                        <el-form-item label="我的兴趣">
                          <el-input type="textarea" :rows="2" placeholder="Please input" v-model="userData.interests"></el-input>
                        </el-form-item>
                        <el-form-item label="我对艺术的兴趣">
                          <el-input type="textarea" :rows="2" placeholder="Please input" v-model="userData.interests_additional"></el-input>
                        </el-form-item>

                      </el-form>
                      <div style="margin:unset" class="btn btn-l-blue" @click="updateUser">救</div>

                    </div>

                  </div>
                </div>
                <div class="faq-item" :class="{'faqItemActive':accordeon3Active}">
                  <div class="faq-item__top" @click="accordeon3Active ? accordeon3Active=false : accordeon3Active=true">
                    <p>安全设定</p>
                    <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="17" cy="17" r="16.5" fill="white" stroke="#CECFDF"/>
                      <path d="M17 21L13.5359 15L20.4641 15L17 21Z" fill="#CECFDF"/>
                    </svg>
                  </div>
                  <div class="faq-item__content">
                    <div class="faq-item__content--inner">
                      <el-form ref="form" :model="userData" label-width="120px" label-position="left">
                        <el-form-item label="旧密码">
                          <el-input v-model="userData.email"></el-input>
                        </el-form-item>

                        <el-form-item label="新密码">

                          <el-input v-model="userData.password1" placeholder="new pass"></el-input>
                        </el-form-item>
                        <el-form-item label="重复新密码">
                          <el-input v-model="userData.password2" placeholder="repeat pass"></el-input>
                        </el-form-item>


                      </el-form>
                      <div style="margin:unset" class="btn btn-l-blue" @click="updateUser">救</div>
                    </div>

                  </div>
                </div>
                <!--                <div class="faq-item" :class="{'faqItemActive':accordeon4Active}">-->
                <!--                  <div class="faq-item__top" @click="accordeon4Active ? accordeon4Active=false : accordeon4Active=true">-->
                <!--                    <p>如何使用我们的平台？</p>-->
                <!--                    <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">-->
                <!--                      <circle cx="17" cy="17" r="16.5" fill="white" stroke="#CECFDF"/>-->
                <!--                      <path d="M17 21L13.5359 15L20.4641 15L17 21Z" fill="#CECFDF"/>-->
                <!--                    </svg>-->
                <!--                  </div>-->
                <!--                  <div class="faq-item__content">-->
                <!--                    <div class="faq-item__content&#45;&#45;inner">-->
                <!--                      <el-form ref="form" :model="userData" label-width="120px" label-position="left">-->
                <!--                        <el-form-item label="旧密码">-->
                <!--                          <el-input v-model="userData.email"></el-input>-->
                <!--                        </el-form-item>-->

                <!--                        <el-form-item label="新密码">-->

                <!--                          <el-input v-model="userData.password1" placeholder="new pass"></el-input>-->
                <!--                        </el-form-item>-->
                <!--                        <el-form-item label="重复新密码">-->
                <!--                          <el-input v-model="userData.password2" placeholder="repeat pass"></el-input>-->
                <!--                        </el-form-item>-->

                <!--                      </el-form>-->
                <!--                      <el-button type="primary" @click="updateUser">save</el-button>-->
                <!--                    </div>-->

                <!--                  </div>-->
                <!--                </div>-->
              </div>
            </div>
            <div v-if="tabActive==='vipTab'" class="user-profile-tab">
              <UserAbout :avatar="this.$auth.user.avatar"
                         :level="this.$auth.user.level"
                         :fio="this.$auth.user.fio"
                         :nickname="this.$auth.user.nickname"
                         :balance="this.$auth.user.balance"
                         :is_man="true"/>
              <div class="user-profile-block">
                <h3 class="user-profile-block__title">个怎么运作</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad adipisci illo impedit ratione velit? Eius expedita laudantium perferendis tempore? Accusamus amet earum explicabo modi tempora voluptate voluptatem. Delectus, quibusdam?</p>

              </div>
            </div>

          </div>
          <div v-else class="user-profile-left">
            <div class="user-profile-about">
              <div class="user-profile-about__img">
                <el-upload class="avatar-uploader mb-25" action="" :show-file-list="false" :on-success="handleAvatarSuccess">
                  <img  :src="userData.avatar" alt="" class="avatar">
                  <p class="user-profile-about__img--change">
                    <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M19 8C18.7348 8 18.4804 8.10536 18.2929 8.29289C18.1054 8.48043 18 8.73478 18 9V16C18 16.2652 17.8946 16.5196 17.7071 16.7071C17.5196 16.8946 17.2652 17 17 17H3C2.73478 17 2.48043 16.8946 2.29289 16.7071C2.10536 16.5196 2 16.2652 2 16V8C2 7.73478 2.10536 7.48043 2.29289 7.29289C2.48043 7.10536 2.73478 7 3 7H5C5.21807 7.01138 5.43386 6.95107 5.61443 6.82829C5.795 6.7055 5.93042 6.52698 6 6.32L6.54 4.68C6.60709 4.48138 6.7349 4.30887 6.90537 4.18684C7.07584 4.06482 7.28036 3.99946 7.49 4H13C13.2652 4 13.5196 3.89464 13.7071 3.70711C13.8946 3.51957 14 3.26522 14 3C14 2.73478 13.8946 2.48043 13.7071 2.29289C13.5196 2.10536 13.2652 2 13 2H7.44C6.81155 2.00118 6.19933 2.19968 5.68977 2.56751C5.1802 2.93533 4.79901 3.45389 4.6 4.05L4.28 5.05H3C2.20435 5.05 1.44129 5.36607 0.87868 5.92868C0.31607 6.49129 0 7.25435 0 8.05V16.05C0 16.8456 0.31607 17.6087 0.87868 18.1713C1.44129 18.7339 2.20435 19.05 3 19.05H17C17.7956 19.05 18.5587 18.7339 19.1213 18.1713C19.6839 17.6087 20 16.8456 20 16.05V9.05C20.0068 8.91453 19.9859 8.7791 19.9387 8.65194C19.8915 8.52479 19.8189 8.40856 19.7254 8.31034C19.6318 8.21212 19.5193 8.13396 19.3946 8.08061C19.2699 8.02726 19.1356 7.99983 19 8ZM10 7C9.20887 7 8.43552 7.2346 7.77772 7.67412C7.11992 8.11365 6.60723 8.73836 6.30448 9.46927C6.00173 10.2002 5.92252 11.0044 6.07686 11.7804C6.2312 12.5563 6.61216 13.269 7.17157 13.8284C7.73098 14.3878 8.44372 14.7688 9.21964 14.9231C9.99556 15.0775 10.7998 14.9983 11.5307 14.6955C12.2616 14.3928 12.8864 13.8801 13.3259 13.2223C13.7654 12.5645 14 11.7911 14 11C14 9.93913 13.5786 8.92172 12.8284 8.17157C12.0783 7.42143 11.0609 7 10 7ZM10 13C9.60444 13 9.21776 12.8827 8.88886 12.6629C8.55996 12.4432 8.30362 12.1308 8.15224 11.7654C8.00087 11.3999 7.96126 10.9978 8.03843 10.6098C8.1156 10.2219 8.30608 9.86549 8.58579 9.58579C8.86549 9.30608 9.22186 9.1156 9.60982 9.03843C9.99778 8.96126 10.3999 9.00087 10.7654 9.15224C11.1308 9.30362 11.4432 9.55996 11.6629 9.88886C11.8827 10.2178 12 10.6044 12 11C12 11.5304 11.7893 12.0391 11.4142 12.4142C11.0391 12.7893 10.5304 13 10 13ZM21 2H20V1C20 0.734784 19.8946 0.48043 19.7071 0.292893C19.5196 0.105357 19.2652 0 19 0C18.7348 0 18.4804 0.105357 18.2929 0.292893C18.1054 0.48043 18 0.734784 18 1V2H17C16.7348 2 16.4804 2.10536 16.2929 2.29289C16.1054 2.48043 16 2.73478 16 3C16 3.26522 16.1054 3.51957 16.2929 3.70711C16.4804 3.89464 16.7348 4 17 4H18V5C18 5.26522 18.1054 5.51957 18.2929 5.70711C18.4804 5.89464 18.7348 6 19 6C19.2652 6 19.5196 5.89464 19.7071 5.70711C19.8946 5.51957 20 5.26522 20 5V4H21C21.2652 4 21.5196 3.89464 21.7071 3.70711C21.8946 3.51957 22 3.26522 22 3C22 2.73478 21.8946 2.48043 21.7071 2.29289C21.5196 2.10536 21.2652 2 21 2Z" fill="white"/>
                    </svg>
                    编辑封面图片
                  </p>
                </el-upload>



              </div>



            </div>
            <div v-if="tabActive==='streamerInfoTab'" class="user-profile-tab">

              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Личные данные</h3>
                <el-form :label-position="'right'" label-width="100px" :model="userData">
                  <el-form-item label="ФИО">
                    <el-input v-model="userData.fio"></el-input>
                  </el-form-item>
                  <el-form-item label="Ник">
                    <el-input v-model="userData.nickname"></el-input>
                  </el-form-item>
                  <el-form-item label="Город">
                    <el-input v-model="userData.city" placeholder="Город"></el-input>
                  </el-form-item>
                  <el-form-item label="Образование">
                    <el-input v-model="userData.education" placeholder="Образование"></el-input>
                  </el-form-item>
                  <el-form-item label="Профессия">
                    <el-input v-model="userData.work_place" placeholder="Профессия"></el-input>
                  </el-form-item>
                  <el-form-item label="Д.Р.">
                    <el-date-picker v-model="userData.birthday" type="date" placeholder="День рождения"
                                    format="yyyy/MM/dd" value-format="yyyy-MM-dd">
                    </el-date-picker>
                  </el-form-item>
                  <el-form-item label="Обо мне">
                    <el-input type="textarea" :rows="2" placeholder="Обо мне" v-model="userData.about"></el-input>
                  </el-form-item>
                  <el-form-item label="Интересы">
                    <el-input type="textarea" :rows="2" placeholder="Интересы" v-model="userData.interests"></el-input>
                  </el-form-item>
                  <el-form-item label="Искусство">
                    <el-input type="textarea" :rows="2" placeholder="Искусство" v-model="userData.interests_additional"></el-input>
                  </el-form-item>
                </el-form>
                <p class="btn btn-l-blue" @click="updateUser">Сохранить</p>


              </div>

            </div>
            <div v-if="tabActive==='streamerGiftsTab'" class="user-profile-tab">
              <div class="user-profile-block">
                <h3 class="user-profile-block__title">Подарки</h3>
                <div class="gift-table-item" v-for="gift in user_gifts" :key="gift.id">
                  <p class="gift-table-item__date">{{gift.created_at}}</p>
                  <div class="gift-table-item__user">
                    <img :src="gift.from_user.avatar" alt="">
                    <div class="gift-table-item__user--name">
                      <p>{{gift.from_user.fio}}</p>
                      <p>@{{gift.from_user.nickname}}</p>
                    </div>
                  </div>
                  <div class="gift-table-item__img">
                    <img :src="gift.gift.image" alt="">
                  </div>

                  <div class="gift-table-item__price">
                    <img src="/diamond.svg" alt="">
                    <p>{{gift.gift.price}}</p>
                  </div>
                  <div class="gift-table-item__btn">
                    <p>+</p>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="tabActive==='streamerFriendsTab'" class="user-profile-tab">

              <div class="user-profile-block">
                <div class="user-profile-friends-wrapper">

                  <div  class="user-profile-friends-item" v-for="friend in this.$auth.user.own_friend_list[0].friend_list">

                    <div @click="$router.push(`/profile/${friend.nickname}`)" class="user-profile-friends-item__img">
                      <img :src="friend.avatar" alt="">
                    </div>
                    <div class="user-profile-friends-item__info">
                      <p class="user-profile-friends-item__info--name">{{friend.fio}}</p>
                      <p class="user-profile-friends-item__info--link">@{{friend.nickname}}</p>
                      <p class="user-profile-friends-item__info--yo">{{friend.years}}岁</p>
                    </div>
                    <div class="user-profile-friends-item__buttons">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 11L18 13" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 9L18 13" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11C10.2091 11 12 9.20914 12 7C12 4.79086 10.2091 3 8 3C5.79086 3 4 4.79086 4 7C4 9.20914 5.79086 11 8 11Z" stroke="#CECFDF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <div @click="sendBlankChatMessage(friend.nickname)" class="user-profile-friends-item__button">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 9C11.8022 9 11.6089 9.05865 11.4444 9.16853C11.28 9.27841 11.1518 9.43459 11.0761 9.61732C11.0004 9.80004 10.9806 10.0011 11.0192 10.1951C11.0578 10.3891 11.153 10.5673 11.2929 10.7071C11.4327 10.847 11.6109 10.9422 11.8049 10.9808C11.9989 11.0194 12.2 10.9996 12.3827 10.9239C12.5654 10.8482 12.7216 10.72 12.8315 10.5556C12.9414 10.3911 13 10.1978 13 10C13 9.73478 12.8946 9.48043 12.7071 9.29289C12.5196 9.10536 12.2652 9 12 9ZM19 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V15C2 15.7956 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H16.59L20.29 21.71C20.3834 21.8027 20.4943 21.876 20.6161 21.9258C20.7379 21.9755 20.8684 22.0008 21 22C21.1312 22.0034 21.2613 21.976 21.38 21.92C21.5626 21.845 21.7189 21.7176 21.8293 21.5539C21.9396 21.3901 21.999 21.1974 22 21V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7956 2 19 2ZM20 18.59L17.71 16.29C17.6166 16.1973 17.5057 16.124 17.3839 16.0742C17.2621 16.0245 17.1316 15.9992 17 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V18.59ZM8 9C7.80222 9 7.60888 9.05865 7.44443 9.16853C7.27998 9.27841 7.15181 9.43459 7.07612 9.61732C7.00043 9.80004 6.98063 10.0011 7.01921 10.1951C7.0578 10.3891 7.15304 10.5673 7.29289 10.7071C7.43275 10.847 7.61093 10.9422 7.80491 10.9808C7.99889 11.0194 8.19996 10.9996 8.38268 10.9239C8.56541 10.8482 8.72159 10.72 8.83147 10.5556C8.94135 10.3911 9 10.1978 9 10C9 9.73478 8.89464 9.48043 8.70711 9.29289C8.51957 9.10536 8.26522 9 8 9ZM16 9C15.8022 9 15.6089 9.05865 15.4444 9.16853C15.28 9.27841 15.1518 9.43459 15.0761 9.61732C15.0004 9.80004 14.9806 10.0011 15.0192 10.1951C15.0578 10.3891 15.153 10.5673 15.2929 10.7071C15.4327 10.847 15.6109 10.9422 15.8049 10.9808C15.9989 11.0194 16.2 10.9996 16.3827 10.9239C16.5654 10.8482 16.7216 10.72 16.8315 10.5556C16.9414 10.3911 17 10.1978 17 10C17 9.73478 16.8946 9.48043 16.7071 9.29289C16.5196 9.10536 16.2652 9 16 9Z" />
                        </svg>

                      </div>
                    </div>
                  </div>

                </div>
              </div>

            </div>
            <div v-if="tabActive==='streamerChatsTab'" class="user-profile-tab">

              <div class="user-profile-chat">
                <div class="user-profile-chat__wrapper">
                  <div class="user-profile-chat__left">
                    <div class="chat-users ">
                      <div
                        @click="openChat(chat.id)"
                        v-for="chat in chats" :key="chat.id" >

                        <div v-if="$auth.user.nickname === chat.starter.nickname" class="chat-user"
                             :class="{'chatSelected':chat.chat_opened}">
                          <div class="chat-user__img" :class="{'chatUserOnline':chat.opponent.is_online,'userVIP':chat.opponent.is_vip}">
                            <img :src="chat.opponent.avatar" alt="">
                          </div>
                          <div class="chat-user__user">
                            <p>{{chat.opponent.fio}}</p>
                            <p>@ {{chat.opponent.nickname}}</p>
                          </div>
                        </div>
                        <div v-else class="chat-user" :class="{'chatSelected':chat.chat_opened}">
                          <div class="chat-user__img" :class="{'chatUserOnline':chat.starter.is_online,'userVIP':chat.starter.is_vip}">
                            <img :src="chat.starter.avatar" alt="">
                          </div>
                          <div class="chat-user__user">
                            <p>{{chat.starter.fio}}</p>
                            <p>@ {{chat.starter.nickname}}</p>
                          </div>
                        </div>

                      </div>

                    </div>
                  </div>
                  <div class="user-profile-chat__right">
                    <div ref="messagesContainer" class="chat-messages">
                      <div class="chat-message"
                           :class="{'own-message':message.user.id === $auth.user.id}"
                           v-for="message in messages" :key="message.id" >

                        <div  class="chat-message__avatar"><img  :src="message.user.avatar" alt=""></div>
                        <div class="chat-message__text">
                          <p v-html="message.message"></p>
                          <img v-if="message.image" :src="message.image" alt="">
                          <span class="chat-message__text--datetime">{{new Date(message.createdAt).toLocaleDateString()}} {{new Date(message.createdAt).toLocaleTimeString()}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="chat-new-message ">
                      <div class="chat-new-message__attach">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12.1101 15.39L8.23008 19.27C8.00059 19.5004 7.72787 19.6832 7.42756 19.8079C7.12725 19.9326 6.80527 19.9969 6.48008 19.9969C6.15489 19.9969 5.83291 19.9326 5.5326 19.8079C5.23229 19.6832 4.95957 19.5004 4.73008 19.27C4.49848 19.0412 4.3146 18.7686 4.1891 18.4682C4.0636 18.1678 3.99898 17.8455 3.99898 17.52C3.99898 17.1944 4.0636 16.8721 4.1891 16.5717C4.3146 16.2713 4.49848 15.9988 4.73008 15.77L8.61008 11.89C8.79838 11.7017 8.90417 11.4463 8.90417 11.18C8.90417 10.9137 8.79838 10.6583 8.61008 10.47C8.42178 10.2817 8.16638 10.1759 7.90008 10.1759C7.63378 10.1759 7.37838 10.2817 7.19008 10.47L3.31008 14.36C2.52844 15.2108 2.1057 16.3306 2.13016 17.4857C2.15461 18.6408 2.62436 19.7418 3.44131 20.5587C4.25826 21.3757 5.35924 21.8454 6.51433 21.8699C7.66941 21.8943 8.78929 21.4716 9.64008 20.69L13.5301 16.81C13.7184 16.6217 13.8242 16.3663 13.8242 16.1C13.8242 15.8337 13.7184 15.5783 13.5301 15.39C13.3418 15.2017 13.0864 15.0959 12.8201 15.0959C12.5538 15.0959 12.2984 15.2017 12.1101 15.39ZM8.83008 15.17C8.92352 15.2626 9.03434 15.336 9.15617 15.3857C9.27801 15.4355 9.40847 15.4607 9.54008 15.46C9.67169 15.4607 9.80215 15.4355 9.92399 15.3857C10.0458 15.336 10.1566 15.2626 10.2501 15.17L15.1701 10.25C15.3584 10.0617 15.4642 9.80626 15.4642 9.53996C15.4642 9.27366 15.3584 9.01826 15.1701 8.82996C14.9818 8.64165 14.7264 8.53587 14.4601 8.53587C14.1938 8.53587 13.9384 8.64165 13.7501 8.82996L8.83008 13.75C8.73635 13.8429 8.66196 13.9535 8.61119 14.0754C8.56042 14.1972 8.53428 14.3279 8.53428 14.46C8.53428 14.592 8.56042 14.7227 8.61119 14.8445C8.66196 14.9664 8.73635 15.077 8.83008 15.17ZM21.0001 18H20.0001V17C20.0001 16.7347 19.8947 16.4804 19.7072 16.2929C19.5197 16.1053 19.2653 16 19.0001 16C18.7349 16 18.4805 16.1053 18.293 16.2929C18.1054 16.4804 18.0001 16.7347 18.0001 17V18H17.0001C16.7349 18 16.4805 18.1053 16.293 18.2929C16.1054 18.4804 16.0001 18.7347 16.0001 19C16.0001 19.2652 16.1054 19.5195 16.293 19.7071C16.4805 19.8946 16.7349 20 17.0001 20H18.0001V21C18.0001 21.2652 18.1054 21.5195 18.293 21.7071C18.4805 21.8946 18.7349 22 19.0001 22C19.2653 22 19.5197 21.8946 19.7072 21.7071C19.8947 21.5195 20.0001 21.2652 20.0001 21V20H21.0001C21.2653 20 21.5197 19.8946 21.7072 19.7071C21.8947 19.5195 22.0001 19.2652 22.0001 19C22.0001 18.7347 21.8947 18.4804 21.7072 18.2929C21.5197 18.1053 21.2653 18 21.0001 18ZM16.8101 13.53L20.6901 9.63996C21.4717 8.78916 21.8945 7.66929 21.87 6.51421C21.8456 5.35912 21.3758 4.25814 20.5588 3.44119C19.7419 2.62424 18.6409 2.15449 17.4858 2.13003C16.3307 2.10558 15.2109 2.52831 14.3601 3.30996L10.4701 7.18996C10.3768 7.2832 10.3029 7.39389 10.2524 7.51571C10.202 7.63753 10.176 7.7681 10.176 7.89996C10.176 8.03182 10.202 8.16239 10.2524 8.28421C10.3029 8.40603 10.3768 8.51672 10.4701 8.60996C10.5633 8.7032 10.674 8.77716 10.7958 8.82762C10.9177 8.87808 11.0482 8.90405 11.1801 8.90405C11.3119 8.90405 11.4425 8.87808 11.5643 8.82762C11.6862 8.77716 11.7968 8.7032 11.8901 8.60996L15.7701 4.72996C15.9996 4.49956 16.2723 4.31675 16.5726 4.19201C16.8729 4.06727 17.1949 4.00306 17.5201 4.00306C17.8453 4.00306 18.1673 4.06727 18.4676 4.19201C18.7679 4.31675 19.0406 4.49956 19.2701 4.72996C19.5017 4.95877 19.6856 5.23127 19.8111 5.53167C19.9366 5.83207 20.0012 6.1544 20.0012 6.47996C20.0012 6.80552 19.9366 7.12785 19.8111 7.42825C19.6856 7.72865 19.5017 8.00115 19.2701 8.22996L15.3901 12.11C15.2964 12.2029 15.222 12.3135 15.1712 12.4354C15.1204 12.5572 15.0943 12.6879 15.0943 12.82C15.0943 12.952 15.1204 13.0827 15.1712 13.2045C15.222 13.3264 15.2964 13.437 15.3901 13.53C15.483 13.6237 15.5936 13.6981 15.7155 13.7489C15.8374 13.7996 15.9681 13.8258 16.1001 13.8258C16.2321 13.8258 16.3628 13.7996 16.4847 13.7489C16.6065 13.6981 16.7171 13.6237 16.8101 13.53Z" />
                        </svg>
                      </div>

                      <el-input ref="newMessage" class="chat-new-message__input"
                                placeholder="new message"
                                v-model="newMessage">
                      </el-input>
                      <div class="chat-new-message__input--smiles">

                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14.36 14.23C13.6915 14.769 12.8587 15.0629 12 15.0629C11.1413 15.0629 10.3085 14.769 9.64 14.23C9.43579 14.0603 9.17251 13.9786 8.90808 14.003C8.64365 14.0274 8.39974 14.1558 8.23 14.36C8.06027 14.5642 7.9786 14.8275 8.00298 15.0919C8.02736 15.3563 8.15579 15.6003 8.36 15.77C9.38134 16.6226 10.6696 17.0896 12 17.0896C13.3304 17.0896 14.6187 16.6226 15.64 15.77C15.8442 15.6003 15.9726 15.3563 15.997 15.0919C16.0214 14.8275 15.9397 14.5642 15.77 14.36C15.686 14.2589 15.5828 14.1753 15.4665 14.1141C15.3501 14.0528 15.2229 14.0151 15.0919 14.003C14.8275 13.9786 14.5642 14.0603 14.36 14.23ZM9 11C9.19779 11 9.39113 10.9414 9.55557 10.8315C9.72002 10.7216 9.8482 10.5654 9.92388 10.3827C9.99957 10.2 10.0194 9.99889 9.98079 9.80491C9.9422 9.61093 9.84696 9.43275 9.70711 9.29289C9.56726 9.15304 9.38908 9.0578 9.19509 9.01921C9.00111 8.98063 8.80005 9.00043 8.61732 9.07612C8.43459 9.15181 8.27842 9.27998 8.16853 9.44443C8.05865 9.60888 8 9.80222 8 10C8 10.2652 8.10536 10.5196 8.2929 10.7071C8.48043 10.8946 8.73479 11 9 11ZM15 9C14.8022 9 14.6089 9.05865 14.4444 9.16853C14.28 9.27841 14.1518 9.43459 14.0761 9.61732C14.0004 9.80004 13.9806 10.0011 14.0192 10.1951C14.0578 10.3891 14.153 10.5673 14.2929 10.7071C14.4328 10.847 14.6109 10.9422 14.8049 10.9808C14.9989 11.0194 15.2 10.9996 15.3827 10.9239C15.5654 10.8482 15.7216 10.72 15.8315 10.5556C15.9414 10.3911 16 10.1978 16 10C16 9.73478 15.8946 9.48043 15.7071 9.29289C15.5196 9.10536 15.2652 9 15 9ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z" />
                        </svg>
                        <div class="chat-new-message__input--smiles--list">
                          <p class="smiley-icon" v-for="smiley in smiles"
                             :key="smiley.id" v-html="smiley.code" @click="pasteSmiley(smiley.code)"></p>
                        </div>
                      </div>
                      <div @click="sendChatMessage" class="chat-new-message__input--send" :class="{'elementDisabled':!newMessage}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M21.15 2.86001C20.768 2.47057 20.2835 2.19723 19.7526 2.07158C19.2217 1.94594 18.6661 1.97313 18.15 2.15001L4.00005 6.88001C3.42936 7.06681 2.93074 7.42616 2.573 7.90845C2.21527 8.39073 2.01607 8.97218 2.0029 9.57251C1.98973 10.1728 2.16324 10.7625 2.49948 11.26C2.83572 11.7575 3.31811 12.1384 3.88005 12.35L9.12005 14.35C9.23937 14.3956 9.34801 14.4654 9.43919 14.5548C9.53038 14.6443 9.60216 14.7516 9.65005 14.87L11.65 20.12C11.8536 20.674 12.2231 21.1518 12.708 21.4882C13.193 21.8246 13.7698 22.0033 14.36 22H14.43C15.0311 21.9891 15.6136 21.7903 16.096 21.4317C16.5784 21.073 16.9365 20.5724 17.1201 20L21.85 5.83001C22.0221 5.31895 22.0477 4.76995 21.924 4.2451C21.8003 3.72024 21.5322 3.24046 21.15 2.86001ZM20 5.20001L15.22 19.38C15.1645 19.5595 15.0531 19.7165 14.9019 19.828C14.7508 19.9396 14.5679 19.9999 14.38 20C14.1933 20.0031 14.01 19.9492 13.8546 19.8456C13.6992 19.742 13.579 19.5936 13.51 19.42L11.51 14.17C11.3651 13.7885 11.1414 13.4418 10.8537 13.1524C10.566 12.863 10.2207 12.6373 9.84005 12.49L4.59005 10.49C4.41294 10.4251 4.2607 10.3062 4.15483 10.1501C4.04896 9.99399 3.99482 9.80856 4.00005 9.62001C4.0002 9.43215 4.06047 9.24928 4.17202 9.09813C4.28358 8.94699 4.44058 8.83551 4.62005 8.78001L18.8 4.05001C18.9629 3.98366 19.1414 3.96588 19.3141 3.99883C19.4868 4.03179 19.6462 4.11406 19.7731 4.2357C19.9001 4.35734 19.989 4.51314 20.0293 4.68427C20.0696 4.8554 20.0594 5.03453 20 5.20001Z" />
                        </svg>

                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div v-if="tabActive==='streamerBalanceTab'" class="user-profile-tab">

              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Баланс</h3>
                <p>На счету: {{this.$auth.user.balance}}</p>

              </div>

            </div>
            <div v-if="tabActive==='streamerStreamsTab'" class="user-profile-tab">
              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Как пользоваться стримами?</h3>
                <p class="mb-20">В данном разделе вы видите инструкцию по созданию и настройке своей трансляции. Если у вас возникли вопросы или вам нужна помощь - свяжитесь с нами!</p>
                <p class="mb-20">Ваш ключ трансляции: <strong>{{this.$auth.user.suid}}</strong> <el-link @click="copyToClipboard($auth.user.suid,'suid')">{{copyLinkText}}</el-link></p>
                <el-collapse v-model="streamerStreamsTab_activeAccordion">
                  <el-collapse-item title="Как запустить трансляцию" name="1">
                    <div>Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to;</div>
                    <div>Consistent within interface: all elements should be consistent, such as: design style, icons and texts, position of elements, etc.</div>
                  </el-collapse-item>
                  <el-collapse-item title="Правила ведения трансляции" name="2">
                    <div>Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects;</div>
                    <div>Visual feedback: reflect current state by updating or rearranging elements of the page.</div>
                  </el-collapse-item>

                </el-collapse>
              </div>


              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Запланированные стримы</h3>
                <el-table :data="streams" style="width: 100%">
                  <el-table-column type="expand">
                    <template slot-scope="props">
                      <p class="mb-20">Описание: {{ props.row.description }}</p>
                      <img :src="props.row.image" alt="">
                    </template>
                  </el-table-column>
                  <el-table-column prop="name" label="Название" ></el-table-column>
                  <el-table-column label="Дата" width="180">
                    <template slot-scope="scope">
                      <p>{{new Date(scope.row.date).toLocaleString()}}</p>
                    </template>
                  </el-table-column>
                  <el-table-column  label="VIP?" >
                    <template slot-scope="scope">
                      <p>{{scope.row.is_vip? 'Да' : 'Нет'}}</p>
                    </template>
                  </el-table-column>
                  <el-table-column  label="Приватный?" >
                    <template slot-scope="scope">
                      <p>{{scope.row.is_private? 'Да' : 'Нет'}}</p>
                    </template>
                  </el-table-column>
                  <el-table-column  label="Действие" width="200">
                    <template slot-scope="scope">
                      <el-tooltip class="item" effect="dark" content="Удалить стрим" placement="top-start">
                        <el-button type="danger" size="mini" @click="updateStream(scope.row.id,'delete')"><i class="el-icon-delete"></i></el-button>
                      </el-tooltip>
                      <el-tooltip class="item" effect="dark" content="Скопировать ссылку на стрим в буфер обмена" placement="top-start">
                        <el-button type="info" size="mini" @click="copyToClipboard(scope.row.url,'stream_link')"><i class="el-icon-link"></i></el-button>
                      </el-tooltip>
                      <el-tooltip v-if="!scope.row.is_active" class="item" effect="dark" content="Активировить страницу со стримом" placement="top-start">
                        <el-button type="success" size="mini" @click="updateStream(scope.row.id,'start')" ><i class="el-icon-video-play"></i></el-button>
                      </el-tooltip>
                      <el-tooltip v-else class="item" effect="dark" content="Деактивировить страницу со стримом" placement="top-start">
                        <el-button type="danger" size="mini" @click="updateStream(scope.row.id,'stop')"><i class="el-icon-video-pause"></i></el-button>
                      </el-tooltip>

                    </template>
                  </el-table-column>
                </el-table>
              </div>
              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Новый стрим</h3>
                <el-input class="mb-10" v-model="newStreamData.name" placeholder="Название стрима"></el-input>
                <el-input class="mb-10" type="textarea"  :rows="4" v-model="newStreamData.description" placeholder="Описание стрима"></el-input>
                <div style="display: flex;align-items: center;justify-content: space-between" class="mb-10">
                  <el-date-picker  v-model="newStreamData.date" type="datetime" placeholder="Дата и время начала"></el-date-picker>
                  <div class="">
                    <el-checkbox v-model="newStreamData.is_vip">Для вип</el-checkbox>
                    <el-checkbox v-model="newStreamData.is_private">Приватный</el-checkbox>
                  </div>
                </div>
                <div class="mb-30">
                  <p class="mb-20">Изображение</p>
                  <el-upload class="avatar-uploader" action="" :show-file-list="false" :on-success="handleStreamImage">
                    <div style="padding:5px; display: flex; align-items: center;justify-content: center;width: 300px;height: 200px;border: 1px dashed #cecece">
                      <img style="object-fit: cover; height: 200px; width: 300px;" v-if="newStreamImgPreview" :src="newStreamImgPreview" alt="" class="avatar">
                      <p v-else style="font-size: 30px">+</p>
                    </div>
                  </el-upload>
                </div>

                <el-button type="success" @click="addStream">Добавить</el-button>

              </div>

            </div>
            <div v-if="tabActive==='streamerAlbumsTab'" class="user-profile-tab">

              <div class="user-profile-block">

                <h3 class="user-profile-block__title">Альбомы</h3>
                ждэ

              </div>

            </div>
            <div v-if="tabActive==='streamerPostsTab'" class="user-profile-tab">

              <div class="user-profile-block">
                <h3 class="user-profile-block__title">Опубликованные посты
                  <el-button type="primary" @click="newPostDialogVisible=true">Добавить новый</el-button></h3>
                <div class="user-profile-post"
                     v-for="(post,index) in posts"
                     :key="post.id">
                  <div class="user-profile-post__top">
                    <img :src="post.owner.avatar" alt="">
                    <div class="user-profile-post__top--name">
                      <p>{{post.owner.fio}}</p>
                      <p>{{post.created}} ago</p>
                    </div>

                  </div>
                  <div class="user-profile-post__content">
                    <p>{{post.text}}</p>
                  </div>
                  <div v-show="post.image" class="user-profile-post__image">
                    <img :src="post.image" alt="">
                  </div>
                  <el-button type="danger" >Удалить</el-button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <el-dialog
      :title="'Пополнение баланса на '+ balanceAddAmount"
      :visible.sync="balanceDialogVisible"
      width="30%" >
      <div class="text-center">
        <img src="/qr.png" alt="">
      </div>

      <span slot="footer" class="dialog-footer">
    <el-button @click="dialogVisible = false">Отмена</el-button>
    <el-button type="primary" @click="addToBalance">Пополнить</el-button>
  </span>
    </el-dialog>
    <el-dialog  title="Создание нового поста" :visible.sync="newPostDialogVisible"  >
      <el-input
        class="mb-20"
        type="textarea"
        :rows="4"
        placeholder="Содержание"
        v-model="newPost.text">
      </el-input>
      <p class="mb-20">Изображение к посту</p>
      <el-upload class="avatar-uploader mb-25" action="" :show-file-list="false" :on-success="handlePostImage">
        <div style="padding:5px; display: flex; align-items: center;justify-content: center;width: 300px;height: 200px;border: 1px dashed #cecece">
          <img v-if="newPost.image" :src="newPost.image" alt="" class="avatar">
          <p v-else style="font-size: 30px">+</p>
        </div>
      </el-upload>
      <span slot="footer" class="dialog-footer">
    <el-button @click="newPostDialogVisible = false">Отмена</el-button>
    <el-button type="primary" @click="addNewPost">Добавить</el-button>
  </span>
    </el-dialog>

  </div>
</template>

<script>
  import UserAbout from '@/components/UserAbout';
  import NewPost from '@/components/NewPost';

  export default {
    components: {
      UserAbout,
      NewPost

    },
    auth: true,
    async asyncData({$axios,$auth,params}){
      console.log(params)
      try{
        const user_gift = await $axios.get(`/api/v1/gift/get_user_gifts?nickname=${$auth.user.nickname}`)
        const user_sended_gift = await $axios.get(`/api/v1/gift/get_user_sended_gifts?nickname=${$auth.user.nickname}`)
        //const user_posts = await $axios.get(`/api/v1/post/get_posts_by_user_nickname?nickname=${$auth.user.nickname}`)
        const user_tags = await $axios.get(`/api/v1/user/get_user_tags`)
        const user_gifts = user_gift.data
        const sended_gift = user_sended_gift.data
        const tags = user_tags.data

        //const posts = user_posts.data
        //console.log(posts)
        return {user_gifts,sended_gift,tags}
      }catch (e) {
        const err = 404
        return {err}

      }

    },
    data(){
      return {
        balanceDialogVisible:false,
        newPostDialogVisible:false,
        balanceAddAmount:0,
        copyLinkText:'скопировать в буфер',
        streamerStreamsTab_activeAccordion:0,
        tabActive: this.$auth.user.is_streamer ? 'streamerInfoTab' : 'infoTab',//'infoTab',
        user_from_url:null,
        current_chat_id:null,
        accordeon1Active:true,
        accordeon2Active:false,
        accordeon3Active:false,
        accordeon4Active:false,
        avatar:null,
        attached_image:null,
        bg_image:null,
        smiles:[
          {id:1,name:'GRINNING FACE',code:'😀'},
          {id:2,name:'FACE WITH TEARS OF JOY',code:'😁'},
          {id:3,name:'SMILING FACE WITH HALO',code:'😂'},
          {id:4,name:'SMILING FACE WITH HORNS',code:'😈'},
          {id:5,name:'SMILING FACE WITH HEART-SHAPED EYES',code:'😍'},
          {id:6,name:'FACE THROWING A KISS',code:'😘'},
        ],
        userData:{
          fio:this.$auth.user.fio,
          avatar:this.$auth.user.avatar,
          bg_image:this.$auth.user.bg_image,
          nickname:this.$auth.user.nickname,
          birthday:this.$auth.user.birthday,
          years:this.$auth.user.years,
          password1:null,
          password2:null,
          interests:this.$auth.user.interests,
          interests_additional:this.$auth.user.interests_additional,
          work_place:this.$auth.user.work_place,
          education:this.$auth.user.education,
          city:this.$auth.user.city,
          about:this.$auth.user.about,
          tags:this.$auth.user.tags,
        },
        newMessage:null,
        chatImg:null,
        chatImgPreview:null,
        chats:[],
        socket:null,
        messages:[],
        posts:[],
        streams:[],
        newPost:{
          text:null,
          image:null
        },
        newPostImage:null,
        newStreamData:{
          name:null,
          description:null,
          is_vip:false,
          is_private:false,
          date:null
        },
        newStreamImg:null,
        newStreamImgPreview:null,
      }
    },
    watch:{
      tabActive(val){
        console.log(val)
        if (val === 'chatsTab' || val === 'streamerChatsTab'){
          this.getChats()
        }
        if (val === 'streamerPostsTab'){
          this.getPosts()
        }
        if (val === 'streamerStreamsTab'){
          this.getStreams()
        }

      }
    },
    mounted: function () {
      this.$nextTick(function () {
        try {
          let uri = window.location.href.split('?');
          let page = uri[1]
          let tabName = page.split('&')[0]
          let user
          console.log(page)
          console.log(page.split('&'))
          if (page.split('&').length > 1){
            user = page.split('&')[1].split('=')[1]
            this.user_from_url = user
          }
          console.log('user',user)
          if (tabName){this.tabActive = `${tabName}Tab`}
        }
        catch (e) {

        }
      })
    },
    updated() {
      if( this.tabActive === 'chatsTab' || this.tabActive === 'streamerChatsTab'){
        this.$nextTick(() => this.scrollToEnd());
      }

    },
    methods:{
      copyToClipboard(text,type){
        if (type==='stream_link'){
            navigator.clipboard.writeText(`${window.location.origin}/stream/${text}`).then(function() {
            console.log('Async: Copying to clipboard was successful!');
          }, function(err) {
            console.error('Async: Could not copy text: ', err);
          });
        }else{
             navigator.clipboard.writeText(text).then(function() {
            console.log('Async: Copying to clipboard was successful!');

          }, function(err) {
            console.error('Async: Could not copy text: ', err);
          });
           this.copyLinkText = 'скопировано'
        }


      },
      scrollToEnd: function () {
        let content = this.$refs.messagesContainer;
        content.scrollTop = content.scrollHeight
      },
      pasteSmiley(code){
        this.newMessage ? this.newMessage += ` ${code} ` : this.newMessage = `${code} `
      },
      notify(title,message,type){
        this.$notify({
          title: title,
          message: message,
          type: type
        });
      },
      async updateStream(stream_id,action){
        await this.$axios.post(`/api/v1/stream/update_stream`,{id:stream_id,action:action})
        this.notify('Успешно','Операция успешно выполнена','success')
        this.getStreams()

      },
      async addStream(){
        if (!this.newStreamData.name || !this.newStreamData.date || !this.newStreamImg  ){
          this.notify('Ошибка','Название,дата и изображение обязательные поля','error')
          return
        }
        let formData = new FormData()
        formData.set('data', JSON.stringify(this.newStreamData))
        //formData.set('description', JSON.stringify(this.newStreamData.description))
        formData.set('image',this.newStreamImg)
        await this.$axios({
          method: 'post',
          headers:{
            'content-type': 'multipart/form-data'
          },
          url: '/api/v1/stream/add_stream',
          data: formData
        }).then((response) => {
          this.notify('Успешно','Стрим добавлен','success')
          this.getStreams()
        })
          .catch(function (error) {
            // handle error
          })
          .then(function () {
            // always executed
          });
      },
      async getStreams(){
        const response = await this.$axios.get(`/api/v1/stream/get_streams_by_user_nickname?nickname=${this.$auth.user.nickname}`)
        this.streams = response.data
      },
      async getPosts(){
        const response = await this.$axios.get(`/api/v1/post/get_posts_by_user_nickname?nickname=${this.$auth.user.nickname}`)
        this.posts = response.data
      },
      async addNewPost(){
        let formData = new FormData()
        formData.set('text', JSON.stringify(this.newPost.text))
        formData.set('image',this.newPostImage)
        await this.$axios({
          method: 'post',
          headers:{
            'content-type': 'multipart/form-data'
          },
          url: '/api/v1/post/add_post',
          data: formData
        }).then((response) => {
          this.notify('Успешно','Пост добавлен','success')
          this.getPosts()
        })
          .catch(function (error) {
            // handle error
          })
          .then(function () {
            // always executed
          });
      },
      async addToBalance(){
        await this.$axios.post(`/api/v1/user/add_to_balance`,{amount:this.balanceAddAmount})
        this.balanceDialogVisible = false
        this.$auth.fetchUser()

      },
      async openChat(chat_id){
        try{
          this.socket.close()
        }catch (e) {
          console.log('not connected')
        }
        this.socket = new WebSocket(`${process.env.ws_url}/ws/chat/${chat_id}`)
        this.socket.onmessage = (res) =>{
          //console.log('message in chat',JSON.parse(res.data))
          let data = JSON.parse(res.data)['message']
          //console.log('DATA',data)
          if(data.chat === this.current_chat_id){

            const rex = /[\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/ug;
            const updated = data.message.replace(rex, match => `<span class="chat-emoji">&#x${match.codePointAt(0).toString(16)};</span>`);
            console.log(updated)
            this.messages.push(
              {
                id:data.id,
                message: updated,//data.message,
                image: data.image ? process.env.img_url+data.image : null,//data.message,
                createdAt: Date.now(),
                user:{
                  id:data.user.id,
                  avatar: data.user.avatar ? process.env.img_url+data.user.avatar : '/no-avatar.svg',
                }
              }
            )
          }

        }
        const response = await this.$axios.get(`/api/v1/chat/get_chat_messages?chat_id=${chat_id}`)
        console.log(response.data)
        this.messages = response.data
        for (let i of this.chats){i.chat_opened = false}
        this.chats.filter(x => x.id === chat_id)[0].chat_opened = true
        this.current_chat_id = chat_id
      },
      async getChats(){
        const responce  = await this.$axios.get('/api/v1/chat/all')
        console.log(responce.data)
        this.chats = responce.data
        console.log('this.user_from_url',this.user_from_url)
        if (this.user_from_url){
          this.openChat(this.chats.filter(x => x.opponent.nickname === this.user_from_url)[0].id)

        }
      },
      // async sendBlankChatMessage(nickname){
      //   await this.$axios.post('/api/v1/chat/new_message',{nickname:nickname,message:'Привет'})
      //   this.user_from_url = nickname
      //   this.tabActive = 'chatsTab'
      // },
      async sendChatMessage(){
        const rex = /[\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/ug;
        const updated = this.newMessage.replace(rex, match => `<span class="chat-emoji">&#x${match.codePointAt(0).toString(16)};</span>`);

        //await this.$axios.post(`/api/v1/chat/add/${this.current_chat_id}`,{message:updated})

        let formData = new FormData()
        formData.set('message', JSON.stringify(this.newMessage))
        formData.set('image',this.chatImg)

        await this.$axios({
          method: 'post',
          headers:{
            'content-type': 'multipart/form-data'
          },
          url: `/api/v1/chat/add/${this.current_chat_id}`,
          data: formData
        }).then((response) => {
          console.log('chat message response',response)
        })
          .catch(function (error) {
            // handle error
          })
          .then(function () {
            // always executed
          });


        //console.log(this.messages)
        // this.messages.push(
        //   {
        //     message: this.newMessage,
        //     user:{
        //       id:this.$auth.user.id,
        //       avatar:this.$auth.user.avatar,
        //     }
        //   }
        // )
        this.newMessage = null
        this.chatImgPreview = null
        this.chatImg = null
      },
      handlePostImage(res, file) {
        this.newPost.image = URL.createObjectURL(file.raw);
        this.newPostImage = file.raw

      },
      handleStreamImage(res, file) {
        this.newStreamImgPreview = URL.createObjectURL(file.raw);
        this.newStreamImg = file.raw

      },
      handleAvatarSuccess(res, file) {
        this.userData.avatar = URL.createObjectURL(file.raw);
        this.avatar = file.raw
        this.updateUser()
      },
      handleChatImgSuccess(res, file) {
        this.chatImgPreview = URL.createObjectURL(file.raw);
        this.chatImg = file.raw
      },
      handleBgSuccess(res, file) {
        this.userData.bg_image = URL.createObjectURL(file.raw);
        this.bg_image = file.raw
        this.updateUser()
      },
      async updateUser(){
        // if (this.userData.password1 !== this.userData.password2){
        //   this.$notify({
        //     title: 'Ошибка',
        //     message: 'Пароли не совпадают',
        //     type: 'danger'
        //   });
        //   return
        // }
        let formData = new FormData()
        formData.set('userData', JSON.stringify(this.userData))

        formData.set('avatar',this.avatar)
        formData.set('bg_image',this.bg_image)

        await this.$axios({
          method: 'post',
          headers:{
            'content-type': 'multipart/form-data'
          },
          url: '/api/v1/user/update/',
          data: formData
        }).then((response) => {
          this.notify('Успешно','Данные обновлены','success')
          this.$auth.fetchUser()
        })
          .catch(function (error) {
            // handle error
          })
          .then(function () {
            // always executed
          });
      },
    }
  };
</script>
